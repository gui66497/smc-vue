!function(a){"use strict";var B="ht",O=a[B],o=O.Default,d=Math,_=(d.PI,d.sin,d.cos,d.atan2,d.sqrt,d.max),i=d.floor,n=(d.round,d.ceil),N=O.Shape,S=(O.Edge,O.List),G=O.Style,m=O.graph,j=o.getInternal(),h=j.ui(),W=null,k="prototype",s=a.clearInterval,A=a.setInterval,E=function(I){var a=I.data,C=this.dm();if(a&&"add"===I.kind){var p=C.$1c,s=a instanceof N?"shape.":"edge.";p&&a.s(s+"dash.flow")&&p.indexOf(a)<0&&p.push(a)}"clear"===I.kind&&(C.$1c=[])},p=function(O){var M=O.property,i=O.data,f=O.newValue,d=this.dm().$1c,U=i instanceof N?"s:shape.dash.flow":"s:edge.dash.flow";if(d&&M===U)if(f)d.indexOf(i)<0&&d.push(i);else for(var w=d.length,R=0;w>R;R++)if(d[R]===i){d.splice(R,1);break}},q=m.GraphView[k],u=h.EdgeUI[k],P=h.ShapeUI[k],r=P._80o,e=u._80o,I=O.DataModel[k],w=I.prepareRemove,l=q.setDataModel;G["edge.dash.flow.step"]==W&&(G["edge.dash.flow.step"]=3),G["shape.dash.flow.step"]==W&&(G["shape.dash.flow.step"]=3),I.prepareRemove=function(a){w.call(this,a);var R=a._dataModel,V=R.$1c;if(V)for(var C=V.length,j=0;C>j;j++)if(V[j]===a){V.splice(j,1);break}},q.setDataModel=function(h){var P=this,r=P._dataModel;if(r!==h){r&&(r.umm(E,P),r.umd(p,P),r.$1c=[]),h.mm(E,P),h.md(p,P);var t=h.$1c=[];h.each(function(g){var H=g instanceof N?"shape.":"edge.";g.s(H+"dash.flow")&&t.indexOf(g)<0&&t.push(g)}),l.call(P,h)}},q.setDashFlowInterval=function(I){var B=this,S=B.$2c;B.$2c=I,B.fp("dashFlowInterval",S,I),B.$3c!=W&&(s(B.$3c),delete B.$3c,B.enableDashFlow(I))},q.getDashFlowInterval=function(){return this.$2c},q.$4c=function(){var g,Y,C,E=this,w=E.tx(),c=E.ty(),K=E._zoom,V=E.getWidth(),T=E.getHeight(),Z={x:-w/K,y:-c/K,width:V/K,height:T/K},W=E.dm().$1c,x=E._56I,p=new S;if(W.forEach(function(X){x[X.getId()]&&(g=E.getDataUI(X),g&&(C=g._79o(),C&&p.add(C)))}),0!==p.size()&&(p.each(function(X){o.intersectsRect(Z,X)&&(Y=o.unionRect(Y,X))}),Y&&(Y&&(o.grow(Y,_(1,1/K)),Y.x=i(Y.x*K)/K,Y.y=i(Y.y*K)/K,Y.width=n(Y.width*K)/K,Y.height=n(Y.height*K)/K,Y=o.intersection(Z,Y)),Y))){var l=E._canvas.getContext("2d");l.save(),l.lineCap=o.lineCap,l.lineJoin=o.lineJoin,j.translateAndScale(l,w,c,K),l.beginPath(),l.rect(Y.x,Y.y,Y.width,Y.height),l.clip(),l.clearRect(Y.x,Y.y,Y.width,Y.height),E.$5c(l,Y),l.restore()}},q.$5c=function(W,M){var O,t,k=this;k._93db(W),k.each(function(h){k._56I[h._id]&&(O=k.getDataUI(h),O&&(t=O._79o(),(!M||o.intersectsRect(M,t))&&(O.$7c=!0,O._42(W),delete O.$7c)))}),k._92db(W)},q.enableDashFlow=function(O){var D=this;D.$3c==W&&(D.$3c=A(function(){D.$4c()},O||D.$2c||50))},q.disableDashFlow=function(){var m=this;s(m.$3c),delete m.$3c};var J=function(){var d=this,b=d._data,X=b instanceof N?"shape.":"edge.",B=b.s(X+"dash.pattern"),x=b.s(X+"dash.flow.reverse");if(B&&b.s(X+"dash")&&b.s(X+"dash.flow")&&d.$7c){var c=d.s(X+"dash.offset")||0,O=b.s(X+"dash.flow.step"),e=b.getStyleMap(),D=0;B.forEach(function(I){D+=I}),x&&(O=-O),c-=O,c%=D,e||(b._styleMap=e={}),e[X+"dash.offset"]=c}};u._80o=function(M){e.call(this,M),J.call(this)},P._80o=function(L){r.call(this,L),J.call(this)}}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);