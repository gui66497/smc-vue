!function(p,L,j){"use strict";var z="ht",s=p[z],A=null,W=Math,N=W.abs,E=W.max,S=Number.MAX_VALUE,T=s.Default,r=T.getInternal(),a=T.clone,v=r.vec3TransformMat4,i=r.appendArray,V=function(){function o(_,N,b,h){if(_){var Z=_[h];if(Z){b.ignoreColor||(N.color=Z.kd),!b.ignoreTransparent&&Z.d>0&&Z.d<1&&(N.transparent=!0,N.opacity=Z.d);var I;if(!b.ignoreImage&&(I=Z.map_kd)){I=I.split(" ");for(var G=-1,i=0;i<I.length;i++)"-o"===I[i]?(N.uvOffset=[parseFloat(I[i+1]),parseFloat(I[i+2])],i+=3,G=i):"-s"===I[i]&&(N.uvScale=[parseFloat(I[i+1]),parseFloat(I[i+2])],i+=3,G=i);N.image=(b.prefix||"")+I.splice(G+1).join(" ")}}}}var V=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,C=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,Z=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,R=/^[og]\s*(.+)?/,c=function(t,Q){return Q=parseInt(Q),Q>=0?t[Q-1]:t[Q+t.length]},P=function(V,g,L,Y,R){if(V.lvs){var w=c(g,Y),G=c(g,R),d=L.matrix,A=V.lvs;d?(i(A,v(a(w),d)),i(A,v(a(G),d))):(i(A,w),i(A,G))}},q=function(J,A,m,e,G,O){if(J.vs){var k=c(A,e),I=c(A,G),V=c(A,O),T=m.matrix,t=J.vs;if(m.flipFace){var Z=I;I=V,V=Z}T?(i(t,v(a(k),T)),i(t,v(a(I),T)),i(t,v(a(V),T))):(i(t,k),i(t,I),i(t,V))}},L=function(p,z,f,n,Q,y){if(p.vs){var r=c(z,n),D=c(z,Q),B=c(z,y),H=f.flipY;if(f.flipFace){var O=D;D=B,B=O}p.uv.push(r[0],H?1-r[1]:r[1],D[0],H?1-D[1]:D[1],B[0],H?1-B[1]:B[1])}},y=function(p,t,N,n,x,Q){if(p.vs){var O=c(t,n),q=c(t,x),L=c(t,Q),X=N.normalMatrix,u=p.ns;if(N.flipFace){var s=q;q=L,L=s}X?(i(u,v(a(O),X)),i(u,v(a(q),X)),i(u,v(a(L),X))):(i(u,O),i(u,q),i(u,L))}},O=function(z,V,b,q){for(var p=q.length-1,S=0;p>S;++S)P(z,V,b,q[S],q[S+1]);P(z,V,b,q[p],q[0])},K=function(I,i,p,K,F,$,A,J){var z=K&&K.length&&J;$[3]===j?(q(I,i,F,$[0],$[1],$[2]),A&&L(I,p,F,A[0],A[1],A[2]),z&&y(I,K,F,J[0],J[1],J[2])):(q(I,i,F,$[0],$[1],$[3]),q(I,i,F,$[1],$[2],$[3]),A&&(L(I,p,F,A[0],A[1],A[3]),L(I,p,F,A[1],A[2],A[3])),z&&(y(I,K,F,J[0],J[1],J[3]),y(I,K,F,J[1],J[2],J[3])))},Y=function(K,T,i,Y){var B,H,W,h,m,o,y,M,V=S,w=S,C=S,e=-S,d=-S,u=-S;for(B in K)for(o=K[B].vs,M=o.length,H=0;M>H;H+=3)W=o[H+0],h=o[H+1],m=o[H+2],V>W&&(V=W),w>h&&(w=h),C>m&&(C=m),W>e&&(e=W),h>d&&(d=h),m>u&&(u=m);if(i){var $=V+(e-V)/2,L=w+(d-w)/2,b=C+(u-C)/2;for(B in K){for(o=K[B].vs,M=o.length,H=0;M>H;H+=3)o[H+0]-=$,o[H+1]-=L,o[H+2]-=b;if(y=K[B].lvs)for(M=y.length,H=0;M>H;H+=3)y[H+0]-=$,y[H+1]-=L,y[H+2]-=b}}var k,P,q;i?(k=e-V,P=d-w,q=u-C):(k=2*E(N(V),N(e)),P=2*E(N(w),N(d)),q=2*E(N(C),N(u))),0===k&&(k=Math.min(P,q)/1e3||.001),0===P&&(P=Math.min(k,q)/1e3||.001),0===q&&(q=Math.min(k,P)/1e3||.001),Y.rawS3=[k,P,q];for(B in K){if(o=K[B].vs,y=K[B].lvs,T){for(M=o.length,H=0;M>H;H+=3)k&&(o[H+0]/=k),P&&(o[H+1]/=P),q&&(o[H+2]/=q);if(y)for(M=y.length,H=0;M>H;H+=3)k&&(y[H+0]/=k),P&&(y[H+1]/=P),q&&(y[H+2]/=q)}K[B].rawS3=Y.rawS3}};return function(g,q,_){if(!g)return A;(r.isString(q)||q instanceof ArrayBuffer)&&(q=n(q)),_||(_={}),_.flipY==A&&(_.flipY=!0),(_.s3||_.r3||_.t3||_.mat)&&(_.matrix=r.createWorldMatrix(_.mat,_.s3,_.r3,_.rotationMode,_.t3));var c,i,N,e,M,d=s.Style["wf.loadQuadWireframe"],m=[],P=[],J=_.ignoreNormal?A:[],b=_.reverseFlipMtls,y={vs:[],uv:[],ns:J?[]:A},F={htdefault:y},t=new f(g),v={},a="";for(J&&_.matrix&&(_.normalMatrix=r.createNormalMatrix(_.matrix));null!=(i=t.stepNext());)if(i=i.trim(),0!==i.length&&"#"!==i.charAt(0))if(i.indexOf("\\")!==i.length-1)if(a&&(i=a+i,a=""),i.indexOf("#QNAN0")>=0&&(i=i.replace(/#QNAN0/gi,"0")),N=V.exec(i))m.push([parseFloat(N[1]),parseFloat(N[2]),parseFloat(N[3])]);else if(N=C.exec(i))P.push([parseFloat(N[1]),parseFloat(N[2])]);else if(J&&(N=Z.exec(i)))_.flipFace?J.push([parseFloat(-N[1]),parseFloat(-N[2]),parseFloat(-N[3])]):J.push([parseFloat(N[1]),parseFloat(N[2]),parseFloat(N[3])]);else if("f"===i[0]){var H=i.split(/\s+/);if(H.length<4)continue;var G,c,W,$=[],w=[],x=[];for(c=1,W=H.length;W>c;c++)G=H[c].split("/"),$.push(parseInt(G[0],10)),G.length>1&&G[1].length>0&&x.push(parseInt(G[1],10)),G.length>2&&G[2].length>0&&w.push(parseInt(G[2],10));for(c=0,W=$.length-2;W>c;c++)K(y,m,P,J,_,[$[0],$[c+1],$[c+2]],x.length?[x[0],x[c+1],x[c+2]]:A,w.length?[w[0],w[c+1],w[c+2]]:A);d&&O(y,m,_,$)}else if(_.part&&null!==(N=R.exec(i))){y.vs&&0!==y.vs.length||(delete F[y.name],v[y.name]--);var e=(" "+N[0].substr(1).trim()).substr(1),h=v[e]||0;v[e]=h+1,M=e+(h?h:""),y=F[M]={name:M,vs:[],uv:[],ns:J?[]:A,lvs:d?[]:A}}else/^usemtl /.test(i)&&(e=i.substring(7).trim(),_.part?o(q,y,_,e):(y=F[e])||(y=F[e]={name:e,vs:[],uv:[],ns:J?[]:A,lvs:d?[]:A},_.ignoreMtls&&_.ignoreMtls.indexOf(e)>=0&&delete y.vs,(_.reverseFlip||"*"===b||b&&b.indexOf(e)>=0)&&(y.reverseFlip=!0),o(q,y,_,e)));else a+=i.substring(0,i.length-1);var B=[];for(var l in F){var L=F[l].vs;L&&0!==L.length||B.push(l)}B.forEach(function(v){delete F[v]}),Y(F,_.cube,_.center,_);var I=_.shape3d;if(I){var E=[];for(var e in F){var y=F[e];E.rawS3=y.rawS3,E.push(y)}T.setShape3dModel(I,E)}return F}}(),n=function(e){var d={};if(e)for(var X,I,n,z,t,V,u=new f(e),c=/\s+/;null!=(I=u.stepNext());)I=I.trim(),0!==I.length&&"#"!==I.charAt(0)&&(n=I.indexOf(" "),z=(n?I.substring(0,n):I).toLowerCase(),t=(n?I.substring(n+1):"").trim(),"newmtl"===z?d[t]=X={name:t}:X&&("ka"===z||"kd"===z||"ks"===z?(V=t.split(c,3),X[z]=[parseFloat(V[0]),parseFloat(V[1]),parseFloat(V[2]),1]):X[z]="ns"===z||"d"===z?parseFloat(t):t));return d},f=function(z){var J=this;if(z instanceof ArrayBuffer){J.isBuffer=!0;var N=0,d=new Uint8Array(z),u=d.length,b=d.length;J.stepNext=function(){for(var t,Q,R=N;u>N;)if(t=d[N],Q=t>>4,12===Q||13==Q)N+=2;else if(14===Q)N+=3;else if(N++,10===t)return String.fromCharCode.apply(null,d.subarray(R,N));return N>R?String.fromCharCode.apply(null,d.subarray(R,N)):null}}else{J.isBuffer=!1;var B=z.split("\n"),o=0,b=B.length;J.stepNext=function(){return b>o?B[o++]:null}}};f.prototype={},f.prototype.constructor=f,r.addMethod(T,{loadObj:function(t,B,W){W=W||{};var f=!1;/(MSIE |Trident\/|Edge\/)/.test(p.navigator.userAgent)&&(f=!0);var Q=function(j){var c,t=W.finishFunc,Z=W.shape3d,Y=j?V(j[0],j[1],W):null;if(Y){if(Z)c=T.getShape3dModel(Z);else{c=[];for(var $ in Y){var n=Y[$];c.rawS3=n.rawS3,c.push(n)}}t&&t(Y,c,c.rawS3)}else t&&t(null)};if(f){var b=function(M){W.responseType="arraybuffer",T.xhrLoad(t,function(f){Q([f,M])},W)};B?T.xhrLoad(B,function(Y){b(Y)},W):b()}else T.xhrLoad(B?[t,B]:[t],Q,W)},parseObj:function($,E,s){return V($,E,s)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);