!function(U,a,$){"use strict";var y="ht",h=U[y],B=h.Default,g=B.isTouchable,V=h.Color,q="px",Y="0",J="innerHTML",A="className",v="position",N="absolute",I="width",W="height",G="left",z="top",M="right",P="bottom",F="max-width",l="max-height",S=null,Q="none",C="",H=U.parseInt,Z=U.setTimeout,n=B.getInternal(),k=B.animate,t=V.titleIconBackground,j=function(){return document},X=function(V){return j().createElement(V)},K=function(){return X("div")},T=function(){return X("canvas")},x=function(B,L,M){B.style.setProperty(L,M,S)},m=function(w,q){return w.style.getPropertyValue(q)},u=function(j,p){j.appendChild(p)},L=function(u,V){u.removeChild(V)},r=n.addEventListener,D=(n.removeEventListener,function(s){var P=s.scrollWidth,A=s.scrollHeight;return s===j().body&&(P=Math.max(P,j().documentElement.scrollWidth),A=Math.max(A,j().documentElement.scrollHeight)),{width:P,height:A}}),E=function(N){var x=N.touches[0];return x?x:N.changedTouches[0]};n.addMethod(B,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:t,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:t}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:t},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:t}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:t},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:t}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:t},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:t},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:t},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:t}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:t},{type:"rect",rect:[10,118,268,56],background:t},{type:"rect",rect:[10,213,268,56],background:t}]},panelTitleLabelColor:B.labelSelectColor,panelTitleLabelFont:B.labelFont,panelContentLabelFont:B.labelFont,panelTitleBackground:V.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:$},!0);var O=h.widget.Panel=function(M){var D=this,X=D._view=n.createView(null,D);D.$1i=0,D.$18i=new h.Notifier,D.$2i="leftTop",x(X,z,Y),x(X,G,Y),x(X,v,N),x(X,"overflow","hidden"),D._interactor=new c(D),D.setConfig(M),D.addEventListener(function(g){var X=D.getPanelConfig(g.id),Y=X.content;("beginRestore"===g.kind||"betweenResize"===g.kind||"endToggle"===g.kind)&&(Y&&Y.invalidate&&Y.invalidate(),X.items&&X.items.forEach(function(D){D&&D.content&&D.content.invalidate&&D.content.invalidate()}))})};B.def(O,a,{ms_v:1,_dragContainment:"parent",setConfig:function(U){function B(Y){Y.expanded=!Y.expanded,w.togglePanel(Y.id,!0,!0)}if(U){for(var w=this,r=w._view.parentNode;this._view.children.length;)this._view.removeChild(this._view.children[0]);w._config=U,w.$35i=[],U.expanded==S&&(U.expanded=U.expand!=S?U.expand:!0);var X=w._view,$=w.$24i(U,X,!0),e=$[2],s=U.width;w.$35i.push($[1]),U.items&&U.items.forEach(function(B){B.expanded==S&&(B.expanded=B.expand!=S?B.expand:!0);var Z=w.$24i(B,e.children[0]);w.$35i.push(Z[1])});var R=K();x(R,I,10+q),x(R,W,10+q),x(R,v,N),x(R,P,Y),x(R,M,Y),R[A]="resize-area",u(X,R),w.$10i(),U.flowLayout&&x(X,v,"relative"),x(X,"opacity",Y),u(j().body,X),s==S&&(s=X.offsetWidth),x(X,I,s+q),x(X,F,s+q);var f=U.content;f&&f.isSelfViewEvent&&(f.setX(0),f.setY(0),f.setWidth(s-2*(U.borderWidth||0)),f.setHeight(U.contentHeight)),U.items&&U.items.forEach(function(X){B(X)}),U.buttons&&U.buttons.indexOf("toggle")<0||B(U),U.minimized==S&&U.minimize!=S&&(U.minimized=U.minimize),U.minimized&&U.minimizable!==!1&&w.minimize(!0),L(j().body,X),x(X,"opacity",C),r&&u(r,X),w.iv()}},getPanelConfig:function(V){var n=this,$=n._config,O=$.items;if($.id===V)return $;if(O)for(var f=0;f<O.length;f++){var g=O[f];if(g.id===V)return g}},getPanelView:function(t){for(var u=this,J=u.$35i,v=0;v<J.length;v++){var g=J[v],T=g.parentNode;if(T.$15i===t)return T}},setDragContainment:function($){this._dragContainment=$},getDragContainment:function(){return this._dragContainment},$20i:function(){var A=this._config,U=A.restoreIconSize||24;return U},$5i:function(i){var Z=i.titleIconSize||16;return g&&(Z*=1.2),Z},$4i:function(I){var H=I.titleHeight||B.widgetTitleHeight;return H},setTitle:function(Y,Z){if(Z==S&&(Z=this._config.id),Z!=S){var f=this.getPanelConfig(Z),U=this.getPanelView(Z);f.title=Y,U.querySelector(".panel-title span").innerHTML=Y}},setInnerPanel:function(X){var n,A,i=this,a=X.id,u=i.$35i,g=!1;if(X.expanded==S&&(X.expanded=!0),a!=S){var d=i.getPanelConfig(a);if(d){g=!0;var O,q=i.getPanelView(a),R=q.parentNode,G=q.children[0];if(q!==i._view){i.$11i();for(O in d)delete d.key;for(O in X)d[O]=X[O];n=i.$24i(X,R,!1,q),A=n[1],R.removeChild(q);for(var v=0;v<u.length;v++)if(u[v]===G){u.splice(v,1,A);break}i.$12i(),d.expanded=!d.expanded,i.togglePanel(d.id,!0,!0),i.iv()}}}if(!g){i.$11i(),n=i.$24i(X,i._view.children[1]),A=n[1],u.push(A),i._config.items||(i._config.items=[]);var l=i._config.items;if(l.push(X),i.$12i(),l.length>1){var K=l[l.length-2],I=i.getPanelView(K.id).children[0];x(I,"border-bottom",i.$55i(K))}X.expanded=!X.expanded,i.togglePanel(X.id,!0,!0),i.iv()}},removeInnerPanel:function(m){var Y,K=this,p=-1,y=K._config.items;if(y)for(Y=0;Y<y.length;Y++){var e=y[Y];if(e.id===m){p=Y;break}}if(K.$11i(),p>=0){var w=K.$35i,T=K.getPanelView(m),n=T.children[0];for(Y=0;Y<w.length;Y++)if(w[Y]===n){w.splice(Y,1);break}y.splice(p,1),T.parentNode.removeChild(T)}if(K.$12i(),y.length>0){var W=y[y.length-1],i=K.getPanelView(W.id).children[0];x(i,"border-bottom",K.$55i(W))}},$6i:function(r){x(r,"cursor","pointer"),x(r,"display","inline-block"),x(r,"margin-right",(g?8:4)+q),x(r,"vertical-align",z)},$24i:function(l,w,y,P){var b=this,X=b._config.flowLayout,F=y?w:K(),o=b.$50i(l),Z=b.$3i(l,y);F[A]="ht-widget-panel"+(y?" outer-panel":" inner-panel"),l.borderWidth==S&&(l.borderWidth=y?2:0);var f=l.borderWidth;if(f="0 "+f+q+" "+f+q+" "+f+q+" ",x(F,"border-width",f),x(F,"border-color",l.titleBackground||B.panelTitleBackground),x(F,"border-style","solid"),u(F,Z),u(F,o),y||(P?w.insertBefore(F,P):u(w,F)),!X&&y&&l.minimizable!==!1){var L=T(),O=b.$20i(),m=l.restoreToolTip;n.setCanvas(L,O,O),L[A]="control-button button-minimize button-minimize-restore",b.$6i(L),x(L,"display","none"),u(w,L),L.title=m||""}var i=l.panelBackground||l.titleBackground||B.panelTitleBackground;if(x(F,"background-color",i),l.id==S){for(var V=b.$1i++;b.getPanelConfig(V);)V=b.$1i++;l.id=V}return F.$15i=l.id,l.width&&(F.style.width=l.width+q),[F,Z,o]},$9i:function(d){var E=T();E[A]="control-button button-toggle button-toggle-expand",E.title=d.toggleToolTip||"";var B=this.$4i(d),g=this.$5i(d);return this.$6i(E),n.setCanvas(E,g,B),E},$8i:function(M){var L=T(),w="control-button button-independent-switch";L[A]=M.independent===!0?w+" button-independent-switch-on":w+" button-independent-switch-off",L.title=M.independentSwitchToolTip||"";var C=this.$4i(M),Z=this.$5i(M);return this.$6i(L),n.setCanvas(L,Z,C),L},$7i:function(j){var B=T();B[A]="control-button button-minimize button-minimize-minimize",B.title=j.minimizeToolTip||"";var y=this.$4i(j),a=this.$5i(j);return this.$6i(B),n.setCanvas(B,a,y),B},$55i:function(I){var G=this._config,v=G.items,x=I.separatorWidth||B.panelSeparatorWidth,V=I.titleBackground||B.panelTitleBackground,U=I.expanded!==!1?V:I.separatorColor||B.panelSeparatorColor||B.brighter(V);return(G===I||v&&v.indexOf(I)===v.length-1)&&(x=0),x+q+" solid "+U},$3i:function(L,O){var k=this,$=k._config.flowLayout,b=K(),H=K(),o=k.$4i(L),h=L.titleBackground,s=L.titleColor,p=L.titleIcon,F=L.buttons;if(b[A]="panel-title",x(b,v,"relative"),x(b,"background",h||B.panelTitleBackground),x(b,"color",s||B.panelTitleLabelColor),x(b,z,Y),x(b,"box-sizing","border-box"),x(b,"-moz-box-sizing","border-box"),x(b,"padding","0 5px 0 0"),x(b,I,"100%"),x(b,"cursor","default"),x(b,"white-space","nowrap"),x(b,"font",B.panelTitleLabelFont),p){var g=T();g[A]="control-button panel-title-icon";var S=k.$4i(L),d=k.$5i(L);k.$6i(g),n.setCanvas(g,d,S),u(b,g)}var R=X("span");x(R,"display","inline-block"),x(R,"margin-left","5px"),R[J]="<span>"+L.title+"</span>",u(b,R),x(b,"line-height",o+q),H[A]="panel-title-controls",x(H,v,N),x(H,G,Y),x(H,M,5+q),x(H,z,Y),x(H,P,Y),x(H,"text-align",M);var t=function(){var s=k.$9i(L);u(H,s)},c=function(){if(!$&&O&&L.minimizable!==!1){var C=k.$7i(L);u(H,C)}},Z=function(){if(!O){var e=k.$8i(L);u(H,e)}},r=function(C){var y=T();y[A]="control-button custombutton-"+C.name,y.title=C.toolTip||"",y._action=C.action;var o=k.$4i(L),l=k.$5i(L);k.$6i(y),n.setCanvas(y,l,o),u(H,y)};if(F)for(var e=0;e<F.length;e++){var C=F[e];"string"==typeof C?"minimize"===C?c():"independentSwitch"===C?Z():"toggle"===C&&t():"object"==typeof C&&r(C)}else c(),t();return u(b,H),b},$50i:function(w){var G=K(),k=w.contentHeight,d=K();x(d,v,"relative"),G[A]="panel-body",x(G,"overflow","hidden");var F=w.contentBackground;if(F===$&&(F="white"),x(G,"background",F),x(G,"font",B.panelContentLabelFont),u(G,d),w.content){var R,o=w.content;o.getView?(u(d,o.getView()),R=d.children[0]):o instanceof Element?(u(d,o),R=d.children[0]):d[J]=o,o.isSelfViewEvent||R&&(x(R,I,"100%"),x(R,W,"100%")),k&&x(d,W,k+q)}return G},$10i:function(){var r=this,H=r._config,E=r._view,R=E.querySelector(".resize-area").style;R.display=H.flowLayout||H.minimized===!0||H.expanded===!1?Q:"block"},$11i:function(){var S=this._view,e=S.children[1];this.$13i>=0?this.$13i++:this.$13i=1,x(e,l,C),x(S,F,C)},$12i:function(){var p=--this.$13i;if(0===p){var Y=this._view,$=Y.children[1];x($,l,$.scrollHeight+q),x(Y,F,Y.offsetWidth+q)}},$14i:function(){var U=this._view,h=U.children[0],e=h.children[1].children,z=this._config,r=0;U.$26i=U.offsetWidth,r+=h.children[0].offsetWidth,z.titleIcon&&(r+=h.children[1].offsetWidth,e=h.children[2].children);for(var f=0;f<e.length;f++){var y=e[f];r+=y.offsetWidth+5}U.$51i=r+15},togglePanel:function(M,n,v){function _(j){var w=j.target,G=w.parentNode,h=N.getPanelConfig(G.$15i);delete G.$19i,w!==z&&N.$12i(),N.$18i.fire({kind:"endToggle",target:N,id:h.id})}for(var N=this,Q=N._view,z=Q.children[1],U=S,Z=N.$35i,h=Z.length,W=N._config.exclusive,r=N.$2i,D=[],V=N._config.narrowWhenCollapse,g=0;h>g;g++){var y=Z[g],O=y.parentNode,K=O.$15i,u=N.getPanelConfig(K);K===M&&(U=O),!n&&W&&u.expanded&&O!==Q&&K!==M&&u.independent!==!0&&D.push(O)}if(U&&!U.$19i){U.$19i=!0;var b=U.children[1],P=U.querySelector(".button-toggle"),t=N.getPanelConfig(U.$15i);if(!P)return;U===Q||t.expanded||t.independent===!0||D.forEach(function(I){N.togglePanel(I.$15i,!0)}),U!==Q&&N.$11i();var d=200;if(v&&(d=0),N.$18i.fire({kind:"beginToggle",target:N,id:U.$15i}),t.expanded){var $=function(){P[A]="control-button button-toggle",P[A]+=r.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",x(b,I,b.clientWidth+q),t.expanded=!1,x(U.children[0],"border-bottom",N.$55i(t)),k(b).duration(d).set("opacity",Y).set(l,Y).end(_),V&&U===Q&&k(U).duration(d).set(F,U.$51i+q).end(),U[A]+=" panel-collapse",k(U).duration(d).set("padding-bottom",Y).end(),N.$28i(t,!0),N.$10i()};V&&U===Q&&N.$14i(),$()}else P[A]="control-button button-toggle",P[A]+=r.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",x(b,I,C),t.expanded=!0,x(U.children[0],"border-bottom",N.$55i(t)),k(b).duration(d).set("opacity","1").set(l,b.scrollHeight+q).end(_),V&&U===Q&&k(U).duration(d).set(F,(U.$26i||U.offsetWidth)+q).end(),U[A]=U[A].replace(" panel-collapse",C),k(U).duration(d).end(),N.$28i(t,!0),N.$10i()}},$16i:function(){var N=this._view,Q=N.$22i,l=N.$23i,L=this.$2i;return Q==S&&(L.indexOf(G)>=0?Q=N.$22i=0:L.indexOf(M)>=0&&(Q=N.$22i=100)),l==S&&(L.indexOf("Top")>=0?l=N.$23i=0:L.indexOf("Bottom")>=0&&(l=N.$23i=100)),[Q,l]},$25i:function(){var f=this,r=f._view,c=r.$21i,I=f.$20i(),E=f.$16i(),a=E[0],u=E[1],g=f.$2i;r.children[0].style.display=Q,r.children[1].style.display=Q,r.children[2].style.display=C,x(r,"padding",Y),x(r,F,I+q),"leftTop"===g?(x(r,G,H(m(r,G))+(c.width-I)*a/100+q),x(r,z,H(m(r,z))+(c.height-I)*u/100+q)):"leftBottom"===g?(x(r,G,H(m(r,G))+(c.width-I)*a/100+q),x(r,P,H(m(r,P))+(c.height-I)*(1-u/100)+q)):"rightTop"===g?(x(r,M,H(m(r,M))+(c.width-I)*(1-a/100)+q),x(r,z,H(m(r,z))+(c.height-I)*u/100+q)):"rightBottom"===g&&(x(r,M,H(m(r,M))+(c.width-I)*(1-a/100)+q),x(r,P,H(m(r,P))+(c.height-I)*(1-u/100)+q)),r[A]+=" panel-minimized",f.$18i.fire({kind:"endMinimize",target:f,id:r.$15i})},$17i:function(){var T=this,U=T._config,W=T._view;x(W,"-webkit-transform",C),x(W,"-ms-transform",C),x(W,"transform",C),U.minimized?T.$25i():(T.$18i.fire({kind:"endRestore",target:T,id:U.id}),W[A]=W[A].replace(" panel-minimized",C)),delete W.$19i},minimize:function(B){var d=this,C=d._view;if(!C.$19i&&C.children[0].style.display!==Q){var r=d._config,z=C.getBoundingClientRect(),p=d.$20i(),j=z.width,u=z.height,U=p/j,t=p/u,G=d.$16i(),n=G[0],s=G[1];C.$52i=U,C.$53i=t,C.$21i=z,d.$18i.fire({kind:"beginMinimize",target:d,id:C.$15i});var f=200;B&&(f=0),r.minimized=!0,C.$19i=!0,r.expanded&&(C.$26i=C.offsetWidth);var o=n+"% "+s+"%";x(C,"-webkit-transform-origin",o),x(C,"-ms-transform-origin",o),x(C,"transform-origin",o),k(C).duration(f).scale(U,t).end(function(){d.$17i()}),d.$10i()}},restore:function(){var d,W,n,j,Y,U,X,T,u,o,i,K,O=this,V=O._view,t=V.parentNode,p=O._config;if(!V.$19i&&p.minimized){var E=V.$21i,$=V.$52i,v=V.$53i,y=(p.borderWidth+q,O.$20i()),C=D(t),a=O.$2i;"leftTop"===a?(d=H(m(V,G)),n=H(m(V,z)),Y=d,X=n,u=d+E.width-C.width,o=n+E.height-C.height,u>0&&(u>=d?d=0:d-=u),o>0&&(o>=n?n=0:n-=o),i=100*((Y-d)/(E.width-y)),K=100*((X-n)/(E.height-y)),x(V,G,d+q),x(V,z,n+q)):"leftBottom"===a?(d=H(m(V,G)),j=H(m(V,P)),Y=d,T=j,u=d+E.width-C.width,o=j+E.height-C.height,u>0&&(u>=d?d=0:d-=u),o>0&&(o>=j?j=0:j-=o),i=100*((Y-d)/(E.width-y)),K=100*(1-(T-j)/(E.height-y)),x(V,G,d+q),x(V,P,j+q)):"rightTop"===a?(W=H(m(V,M)),n=H(m(V,z)),U=W,X=n,u=W+E.width-C.width,o=n+E.height-C.height,u>0&&(u>=W?W=0:W-=u),o>0&&(o>=n?n=0:n-=o),i=100*(1-(U-W)/(E.width-y)),K=100*((X-n)/(E.height-y)),x(V,M,W+q),x(V,z,n+q)):"rightBottom"===a&&(W=H(m(V,M)),j=H(m(V,P)),U=W,T=j,u=W+E.width-C.width,o=j+E.height-C.height,u>0&&(u>=W?W=0:W-=u),o>0&&(o>=j?j=0:j-=o),i=100*(1-(U-W)/(E.width-y)),K=100*(1-(T-j)/(E.height-y)),x(V,M,W+q),x(V,P,j+q)),V.children[0].style.display="block",V.children[1].style.display="block",V.children[2].style.display=Q,x(V,"-webkit-transform","scale("+$+", "+v+")"),x(V,"-ms-transform","scale("+$+", "+v+")"),x(V,"transform","scale("+$+", "+v+")"),V.$22i=i,V.$23i=K,x(V,"-webkit-transform-origin",i+"% "+K+"%"),x(V,"-ms-transform-origin",i+"% "+K+"%"),x(V,"transform-origin",i+"% "+K+"%"),p.narrowWhenCollapse&&!p.expanded?x(V,F,V.$51i+q):x(V,F,V.$26i+q),O.$18i.fire({kind:"beginRestore",target:O,id:V.$15i}),V.$19i=!0,p.minimized=!1,Z(function(){k(V).scale(1,1).end(function(){O.$17i()})},30),O.$10i()}},addEventListener:function(B,D,t){this.$18i.add(B,D,t)},removeEventListener:function(E,d){this.$18i.remove(E,d)},setPosition:function(w,K){var O=this._view,A=this.$2i;"leftTop"===A?(x(O,G,w+q),x(O,z,K+q),x(O,M,C),x(O,P,C)):"leftBottom"===A?(x(O,G,w+q),x(O,P,K+q),x(O,M,C),x(O,z,C)):"rightTop"===A?(x(O,M,w+q),x(O,z,K+q),x(O,G,C),x(O,P,C)):"rightBottom"===A&&(x(O,M,w+q),x(O,P,K+q),x(O,G,C),x(O,z,C)),delete O.$22i,delete O.$23i},getPosition:function(){var n=this._view,k=this.$2i;return"leftTop"===k?{x:H(m(n,G)),y:H(m(n,z))}:"leftBottom"===k?{x:H(m(n,G)),y:H(m(n,P))}:"rightTop"===k?{x:H(m(n,M)),y:H(m(n,z))}:"rightBottom"===k?{x:H(m(n,M)),y:H(m(n,P))}:void 0},setPositionRelativeTo:function(H){var m=this,x=m._view.querySelectorAll(".button-toggle"),B="control-button button-toggle",f=m.getPosition();m.$2i=H,m.setPosition(f.x,f.y);for(var y=0;y<x.length;y++){var K=x[y],e=m.getPanelConfig(K.parentNode.parentNode.parentNode.$15i);K[A]=e.expanded?H.indexOf("Bottom")>=0?B+" button-toggle-collapse":B+" button-toggle-expand":H.indexOf("Bottom")>=0?B+" button-toggle-expand":B+" button-toggle-collapse"}m.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(E){var V=this;V._68I||(V._68I=1,B.callLater(V.validate,V,S,E),V.onInvalidated&&V.onInvalidated(),V.fireViewEvent("invalidate"));var z=this._config,f=z.content;f&&f.invalidate&&f.invalidate(),z.items&&z.items.forEach(function(k){k&&k.content&&k.content.invalidate&&k.content.invalidate()})},getIconStretch:function(){var z=this._config.iconStretch||"fill";return z},$27i:function(H,V,d,W,S){var P=n.initContext(H);n.translateAndScale(P,0,0,1),P.clearRect(0,0,d,d);var J=(d-W)/2;B.drawStretchImage(P,B.getImage(V),this.getIconStretch(S),0,J,W,W),P.restore()},$28i:function(e){var r,E,Z,w=this,G=e.id,I=w.getPanelView(G),P=I.querySelector(".button-toggle"),b=w.$2i.indexOf("Bottom")>=0;if(E=b?B.panelCollapseIcon:B.panelExpandIcon,Z=b?B.panelExpandIcon:B.panelCollapseIcon,P){r=e.expanded?B.getImage(Z):B.getImage(E);var h=w.$4i(e),Q=w.$5i(e);w.$27i(P,r,h,Q,"toggle")}},$29i:function(r){var J,_=this,X=r.id,H=_.getPanelView(X),M=H.querySelector(".button-independent-switch"),S=B.panelUnLockIcon,c=B.panelLockIcon;if(M){J=r.independent!==!0?B.getImage(c):B.getImage(S);var N=_.$4i(r),E=_.$5i(r);_.$27i(M,J,N,E,"switch")}},$30i:function(Q){var F=this,A=Q.id,i=F.getPanelView(A),$=i.querySelector(".button-minimize-minimize"),K=B.panelMinimizeIcon;if($){var C=F.$4i(Q),n=F.$5i(Q);F.$27i($,B.getImage(K),C,n,"miminize")}},$31i:function(Q){var M=this,p=Q.id,u=M.getPanelView(p),R=u.querySelector(".button-minimize-restore"),x=Q.titleIcon||B.panelRestoreIcon;if(R){var q=M.$20i();M.$27i(R,B.getImage(x),q,q,"restore")}},$32i:function(v){var F=this,N=v.id,A=F.getPanelView(N);if(v.buttons){var i=v.buttons;i.forEach(function(R){var O=R.name,J=R.icon;if(O&&J){var K=A.querySelector(".custombutton-"+O);if(K){var S=F.$4i(v),M=F.$5i(v)-1;F.$27i(K,B.getImage(J),S,M,"custom")}}})}},$33i:function(O){var f=this,S=O.id,o=f.getPanelView(S),n=o.querySelector(".panel-title-icon"),N=O.titleIcon;if(n&&N){var I=f.$4i(O),H=f.$5i(O);f.$27i(n,B.getImage(N),I,H,"title")}},validateImpl:function(){var k=this,Q=k._config;k.$28i(Q),k.$30i(Q),k.$31i(Q),k.$32i(Q),k.$33i(Q),Q.items&&Q.items.forEach(function(i){k.$28i(i),k.$29i(i),k.$32i(i)})}});var c=function(t){var N=this,e=t.getView();N.$34i=t,N.addListeners(),r(e,"dblclick",N.$42i.bind(N))};B.def(c,a,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(w){for(var F=this.$34i,$=w.target,T=F.$35i,G=T.length,C=0;G>C;C++){var b=T[C];b.contains($)&&(w.preventDefault(),F.togglePanel(b.parentNode.$15i))}},handle_touchstart:function(w){var U=this,T=U.$34i,l=T._config,r=l.flowLayout,Y=w;if(B.isLeftButton(w)){var F=w.target,P=T.getView().children[0],y=T.getView().querySelector(".button-minimize-restore");g&&(Y=E(w));var b=U.$40i={x:Y.pageX,y:Y.pageY};U.$41i={x:b.x,y:b.y},(!r&&P.contains(F)||y&&y.contains(F))&&(U.$38i=!0,B.startDragging(U,w)),!r&&U.handle_mousemove(w)&&(U.$37i=!0,B.startDragging(U,w),T.$11i())}},handle_mousedown:function(E){this.handle_touchstart(E)},handle_touchend:function(I){var m=this,k=m.$34i,j=I.target,C=k.$35i,v=C.length,L=0,c=k.getView(),B=c.querySelector(".button-minimize"),K=c.querySelector(".button-minimize-restore");if(!m.$39i&&!m.$36i){if(B&&B.contains(j)||K&&K.contains(j))I.preventDefault(),k._config.minimized?k.restore():k.minimize();else for(;v>L;L++){var e=C[L],G=e.parentNode,N=G.$15i,u=k.getPanelConfig(N),t=e.querySelector(".button-toggle"),g=e.querySelector(".button-independent-switch");if(t===j)I.preventDefault(),k.togglePanel(N);else if(g===j){I.preventDefault();var Y="button-independent-switch-off",W="button-independent-switch-on";u.independent=u.independent==S?!0:!u.independent,g[A]=u.independent?g[A].replace(Y,W):g[A].replace(W,Y),k.$29i(u)}else j[A]&&j[A].indexOf("control-button custombutton-")>=0&&e.contains(j)&&j._action.call(k,u,k.getPanelView(N),I)}delete m.$40i,delete m.$41i}},handle_mouseup:function(T){this.handle_touchend(T)},handleWindowTouchEnd:function(){var r=this,q=r.$34i;r.$37i&&r.$36i?(q.$18i.fire({kind:"endResize",target:q,id:q.getView().$15i}),q.$12i()):r.$38i&&r.$39i&&q.$18i.fire({kind:"endMove",target:q,id:q.getView().$15i}),this.clear()},handleWindowMouseUp:function(j){this.handleWindowTouchEnd(j)},handle_mousemove:function(U){var e=this,$=e.getView(),O=$.querySelector(".resize-area"),d=O.getBoundingClientRect(),y={x:d.left,y:d.top,width:d.width,height:d.height};U=g?E(U):U;var x=U.clientX,P=U.clientY,T=e.$34i._config;return T.expanded&&T.minimized!==!0&&B.containsPoint(y,{x:x,y:P})?($.style.cursor="nwse-resize",!0):($.style.cursor=C,void 0)},handleWindowTouchMove:function(v){v.preventDefault();var k=v;g&&(k=E(v));var T=this,N=T.$40i,p=T.$41i;if(!(p.x==N.x&&p.y==N.y&&B.getDistance(p,{x:k.pageX,y:k.pageY})<=1)){var h=T.$34i,w=T.getView(),i=w.parentNode,b=h._config,A=b.resizeMode||"wh",j=k.pageX-N.x,Q=k.pageY-N.y,L=h.$2i;if(T.$37i){var C=w.children[1].children[0],s=w.offsetWidth,K=C.offsetHeight,t=s+j,l=K+Q;t=Math.max(t,100),l=Math.max(l,100),"w"===A?(x(w,I,t+q),b.width=t):"h"===A?(x(C,W,l+q),b.contentHeight=l):"wh"===A&&(x(w,I,t+q),x(C,W,l+q),b.width=t,b.contentHeight=l),L.indexOf("right")>=0&&x(w,M,H(m(w,M))-(t-s)+q),L.indexOf("Bottom")>=0&&x(w,P,H(m(w,P))-(l-K)+q),N.x=k.pageX,N.y=k.pageY;var R=b.content;R&&R.isSelfViewEvent&&(R.setX(0),R.setY(0),R.setWidth(b.width-2*(b.borderWidth||0)),R.setHeight(b.contentHeight)),T.$36i?h.$18i.fire({kind:"betweenResize",target:h,id:h.getView().$15i}):(T.$36i=!0,h.$18i.fire({kind:"beginResize",target:h,id:h.getView().$15i}))}else if(T.$38i){var V,X,U,n,f,Y,$,y,Z,J,r=w.getBoundingClientRect(),d=r.width,S=r.height,c=D(i),F=c.width,O=c.height,e=h._dragContainment;"leftTop"===L?(V=H(m(w,G))||0,U=H(m(w,z))||0,f=V+j,$=U+Q,"parent"===e&&(f+d>F&&(f=F-d),$+S>O&&($=O-S),0>f&&(f=0),0>$&&($=0)),Z=f-V,J=$-U,h.setPosition(f,$),N.x+=Z,N.y+=J):"rightBottom"===L?(X=H(m(w,M))||0,n=H(m(w,P))||0,Y=X-j,y=n-Q,"parent"===e&&(0>Y&&(Y=0),0>y&&(y=0),Y+d>F&&(Y=F-d),y+S>O&&(y=O-S)),Z=Y-X,J=y-n,h.setPosition(Y,y),N.x-=Z,N.y-=J):"rightTop"===L?(X=H(m(w,M))||0,U=H(m(w,z))||0,Y=X-j,$=U+Q,"parent"===e&&(0>Y&&(Y=0),0>$&&($=0),Y+d>F&&(Y=F-d),$+S>O&&($=O-S)),Z=Y-X,J=$-U,h.setPosition(Y,$),N.x-=Z,N.y+=J):"leftBottom"===L&&(V=H(m(w,G))||0,n=H(m(w,P))||0,f=V+j,y=n-Q,"parent"===e&&(0>f&&(f=0),0>y&&(y=0),f+d>F&&(f=F-d),y+S>O&&(y=O-S)),Z=f-V,J=y-n,h.setPosition(f,y),N.x+=Z,N.y-=J),T.$39i?h.$18i.fire({kind:"betweenMove",target:h,id:h.getView().$15i}):(T.$39i=!0,h.$18i.fire({kind:"beginMove",target:h,id:h.getView().$15i}))}}},handleWindowMouseMove:function(q){this.handleWindowTouchMove(q)}});var _=h.widget.PanelGroup=function(f){var H=this,D=H._view=n.createView(null,H);D.style.border="1px dashed black",D.style.position="absolute",D.style.background="rgba(120, 120, 120, 0.4)",H.$48i=new h.List,H._tolerance=100,H._config=f||{hGap:0,vGap:0},H.bindHandlePanelMove=H.handlePanelMove.bind(H),H.bindHandlePanelEvent=H.handlePanelEvent.bind(H),H.invalidate()};B.def(_,a,{invalidate:function(){var f=this;f._68I||(f._68I=1,Z(function(){f.validate()},50))},validate:function(){if(this._68I){delete this._68I;var O=this.$48i.get(0);if(O){var r=O.getView().parentNode;r&&(this.layoutPanels(r,"leftTop"),this.layoutPanels(r,"rightTop"),this.layoutPanels(r,"leftBottom"),this.layoutPanels(r,"rightBottom"))}}},setLeftTopPanels:function(){var F=this,O=F.$43i,I=F.$48i;O==S&&(O=F.$43i=new h.List);for(var l=0;l<arguments.length;l++){var j=arguments[l];if("string"==typeof j)O.$49i=j;else{if(j._config.flowLayout)continue;j.setPositionRelativeTo("leftTop"),O.contains(j)||O.add(j),I.contains(j)||F.add(j)}}},setRightTopPanels:function(){var d=this,l=d.$44i,b=d.$48i;l==S&&(l=d.$44i=new h.List);for(var t=0;t<arguments.length;t++){var L=arguments[t];if("string"==typeof L)l.$49i=L;else{if(L._config.flowLayout)continue;L.setPositionRelativeTo("rightTop"),l.contains(L)||l.add(L),b.contains(L)||d.add(L)}}},setLeftBottomPanels:function(){var r=this,m=r.$45i,M=r.$48i;m==S&&(m=r.$45i=new h.List);for(var Z=0;Z<arguments.length;Z++){var B=arguments[Z];if("string"==typeof B)m.$49i=B;else{if(B._config.flowLayout)continue;B.setPositionRelativeTo("leftBottom"),m.contains(B)||m.add(B),M.contains(B)||r.add(B)}}},setRightBottomPanels:function(){var i=this,c=i.$46i,q=i.$48i;c==S&&(c=i.$46i=new h.List);for(var e=0;e<arguments.length;e++){var Y=arguments[e];if("string"==typeof Y)c.$49i=Y;else{if(Y._config.flowLayout)continue;Y.setPositionRelativeTo("rightBottom"),c.contains(Y)||c.add(Y),q.contains(Y)||i.add(Y)}}},add:function(R){if(!R._config.flowLayout){var V=this,Z=V.$48i;Z.contains(R)||(R.addEventListener(V.bindHandlePanelMove),R.addEventListener(V.bindHandlePanelEvent),Z.add(R))}},remove:function(G){var e=this,k=e.$48i;k.contains(G)&&(G.removeEventListener(e.bindHandlePanelMove),G.removeEventListener(e.bindHandlePanelEvent),k.remove(G),e.$43i.contains(G)&&e.$43i.remove(G),e.$44i.contains(G)&&e.$44i.remove(G),e.$45i.contains(G)&&e.$45i.remove(G),e.$46i.contains(G)&&e.$46i.remove(G))},layoutPanels:function(I,_,o){var g=this,F=g._config,c=F.hGap||0,P=F.vGap||0;if(I){var J=g.$43i;if("leftBottom"===_?J=g.$45i:"rightTop"===_?J=g.$44i:"rightBottom"===_&&(J=g.$46i),!J)return;var v=J.$49i,Y=c,V=P;if(I.contains(g._view)&&I.removeChild(g._view),J&&J.size()>0)for(var u=0;u<J.size();u++){var t=J.get(u),l=t.getView();I=I||l.parentNode,o!==u?t.setPosition(Y,V):("leftTop"===_?(g._view.style.right="",g._view.style.bottom="",g._view.style.left=Y+q,g._view.style.top=V+q):"leftBottom"===_?(g._view.style.right="",g._view.style.top="",g._view.style.left=Y+q,g._view.style.bottom=V+q):"rightTop"===_?(g._view.style.left="",g._view.style.bottom="",g._view.style.right=Y+q,g._view.style.top=V+q):"rightBottom"===_&&(g._view.style.left="",g._view.style.top="",g._view.style.right=Y+q,g._view.style.bottom=V+q),g._view.style.width=l.offsetWidth+q,g._view.style.height=l.offsetHeight+q,I.insertBefore(g._view,l)),"h"===v?Y+=l.offsetWidth+c:"v"===v&&(V+=l.offsetHeight+P)}}},handlePanelEvent:function(v){if("beginToggle"===v.kind||"endToggle"===v.kind||"beginRestore"===v.kind||"endMinimize"===v.kind||"endResize"===v.kind){var w=this,N=v.target,T=N.getView(),l=T.parentNode,t=w.$43i,R=w.$44i,z=w.$45i,G=w.$46i,U=w._config,D=S,O=S,I=N.$47i;if(I==S&&(I=N.$47i=0),"beginToggle"===v.kind?I=N.$47i=I+1:"endToggle"===v.kind&&(I=N.$47i=I-1),t&&t.contains(N)?(D="leftTop",O=t):z&&z.contains(N)?(D="leftBottom",O=z):R&&R.contains(N)?(D="rightTop",O=R):G&&G.contains(N)&&(D="rightBottom",O=G),"beginToggle"===v.kind&&D&&1===I){var y=K(),x=y.style,$=O.$49i,n="each";x.fontSize="0",x.position="absolute",x.width="100%","leftTop"===D?(x.left=0,x.top=0):"leftBottom"===D?(x.left=0,x.bottom=0,"v"===$&&(n="reverseEach")):"rightTop"===D?(x.right=0,x.top=0,x.textAlign="right","h"===$&&(n="reverseEach")):"rightBottom"===D&&(x.right=0,x.bottom=0,x.textAlign="right",n="reverseEach"),O[n](function(l){var B=l.getView(),u=B.style,H=K();u.position="static",H.style.textAlign="left",H.style.position="relative",H.style.display="inline-block","leftTop"===D?(H.style.marginLeft=U.hGap+q,H.style.marginTop=U.vGap+q):"leftBottom"===D?(H.style.marginLeft=U.hGap+q,H.style.marginBottom=U.vGap+q):"rightTop"===D?(H.style.marginRight=U.hGap+q,H.style.marginTop=U.vGap+q):"rightBottom"===D&&(H.style.marginRight=U.hGap+q,H.style.marginBottom=U.vGap+q),H.appendChild(B),y.appendChild(H),"h"===$?H.style.verticalAlign="leftTop"===D||"rightTop"===D?"top":"bottom":y.appendChild(X("br"))}),w.$54i=y,l.appendChild(y)}else"endToggle"===v.kind&&D&&0===I?Z(function(){l=l.parentNode.parentNode,l.removeChild(w.$54i),delete w.$54i,O.each(function(B){var k=B.getView(),X=k.style;X.position="absolute",l.appendChild(k)}),w.layoutPanels(l,D)},30):("beginRestore"===v.kind||"endMinimize"===v.kind||"endResize"===v.kind)&&D&&w.layoutPanels(l,D)}},handlePanelMove:function(z){if(!(z.kind.indexOf("Move")<0)){var Y=this,d=Y._config,G=d.hGap||0,L=d.vGap||0,u=z.target,X=u._view,g=X.getBoundingClientRect(),v=g.width,b=g.height,r=v/2,x=b/2,P=X.parentNode,w=Y.$43i,U=Y.$44i,m=Y.$45i,C=Y.$46i,V=P.getBoundingClientRect(),n=Y._tolerance;if("endMove"===z.kind){var N=Y._corner;N&&(u.setPositionRelativeTo(N),Y.layoutPanels(P,N)),delete Y._corner}if("betweenMove"===z.kind){var I=V.left,l=V.top,o=V.width,M=V.height,j=g.left+v/2,q=g.top+b/2;w==S&&(w=Y.$43i=new h.List),m==S&&(m=Y.$45i=new h.List),U==S&&(U=Y.$44i=new h.List),C==S&&(C=Y.$46i=new h.List),delete Y._corner,w.contains(u)?(w.remove(u),Y.layoutPanels(P,"leftTop")):m.contains(u)?(m.remove(u),Y.layoutPanels(P,"leftBottom")):U.contains(u)?(U.remove(u),Y.layoutPanels(P,"rightTop")):C.contains(u)&&(C.remove(u),Y.layoutPanels(P,"rightBottom"));var $=function(f,a){var O=I+G,i=l+L;if(0===a.size()){var Z=O+r,d=i+x;"leftBottom"===f?d=l+M-L-x:"rightTop"===f?Z=I+o-G-r:"rightBottom"===f&&(Z=I+o-G-r,d=l+M-L-x);var b=j-Z,y=q-d,g=Math.sqrt(b*b+y*y);if(n>g)return Y._corner=f,a.add(u),Y.layoutPanels(P,f,0),!0}else if(1===a.size()){var h=a.get(0),t=h.getView().getBoundingClientRect(),U=t.left+r,z=t.top+x,K=t.left+t.width+G+r,N=i+x,m=O+r,X=t.top+t.height+L+x;"leftBottom"===f?(z=t.top+t.height-x,N=l+M-L-x,X=t.top-L-x):"rightTop"===f?(U=t.left+t.width-r,K=t.left-G-r,m=I+o-G-r):"rightBottom"===f&&(U=t.left+t.width-r,z=t.top+t.height-x,K=t.left-G-r,N=l+M-L-x,m=I+o-G-r,X=t.top-L-x);var s=j-U,V=q-z,v=j-K,$=q-N,w=j-m,C=q-X,Q=H(Math.sqrt(s*s+V*V)),W=H(Math.sqrt(v*v+$*$)),R=H(Math.sqrt(w*w+C*C)),B=[Q,W,R];B.sort(function(M,r){return M-r});var A=B[0];if(n>A){if(Y._corner=f,A===Q)return a.add(u,0),Y.layoutPanels(P,f,0),!0;if(A===W)return a.add(u),a.$49i="h",Y.layoutPanels(P,f,1),!0;if(A===R)return a.add(u),a.$49i="v",Y.layoutPanels(P,f,1),!0}}else if(a.size()>1){for(var F=S,J={},D=[],_=a.$49i,e=0;e<a.size();e++){var p=a.get(e),c=p.getView(),E=c.getBoundingClientRect(),k=E.left+r,T=E.top+x;"leftBottom"===f?T=E.top+E.height-x:"rightTop"===f?k=E.left+E.width-r:"rightBottom"===f&&(k=E.left+E.width-r,T=E.top+E.height-x),e===a.size()-1&&(F=E);var b=j-k,y=q-T,g=H(Math.sqrt(b*b+y*y));J[g]=e,D.push(g)}"leftTop"===f&&"h"===_?(Z=F.left+F.width+G+r,d=i+x):"leftTop"===f&&"v"===_?(Z=O+r,d=F.top+F.height+L+x):"leftBottom"===f&&"h"===_?(Z=F.left+F.width+G+r,d=l+M-L-x):"leftBottom"===f&&"v"===_?(Z=O+r,d=F.top-L-x):"rightTop"===f&&"h"===_?(Z=F.left-G-r,d=i+x):"rightTop"===f&&"v"===_?(Z=I+o-G-r,d=F.top+F.height+L+x):"rightBottom"===f&&"h"===_?(Z=F.left-G-r,d=l+M-L-x):"rightBottom"===f&&"v"===_&&(Z=I+o-G-r,d=F.top-L-x),b=j-Z,y=q-d,g=H(Math.sqrt(b*b+y*y)),J[g]=e,D.push(g),D.sort(function(J,t){return J-t});var A=D[0];if(n>A)return Y._corner=f,a.add(u,J[A]),Y.layoutPanels(P,f,J[A]),!0}};$("leftTop",w)||$("leftBottom",m)||$("rightTop",U)||$("rightBottom",C)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);