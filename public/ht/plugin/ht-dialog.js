!function(A,h){"use strict";var r="ht",n=A[r],b="px",M="left",c="top",S="bottom",C="right",y="innerHTML",m="className",u="",N="width",D="height",q="string",w="position",k="absolute",F="0",G="opacity",s="background",j=n.Default,T=j.getInternal(),V=n.Color,Y=j.animate,d=j.isTouchable,v=null,O=(Math.sqrt,A.parseInt),R=A.setTimeout,$=(Math.round,V.titleIconBackground),p=function(x){return typeof x===q||x instanceof String},Q=function(){return document},H=function(r){return Q().createElement(r)},L=function(){var L=H("div");return L.tabIndex=-1,L.style.outline="none",L},J=function(){return H("canvas")},B=function(X,W){i(X,"-webkit-transform",W),i(X,"-ms-transform",W),i(X,"transform",W)},i=function(G,D,h){G.style.setProperty(D,h,v)},o=function(V,p,A){j.def(n.widget[V],p,A)},z=function(J,x){J.appendChild(x)},t=function(){return Q().documentElement},g=function(){return t().clientWidth},P=function(){return t().clientHeight},K=T.addEventListener,W=T.removeEventListener,Z=function(t){var G=t.touches[0];return G?G:t.changedTouches[0]};T.addMethod(j,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:$},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:$}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:$},{type:"rect",rect:[10,10,80,20],background:$}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:$},{type:"rect",rect:[10,34,56,14],background:$},{type:"rect",rect:[34,10,56,14],background:$},{type:"rect",rect:[82,10,8,56],background:$},{type:"rect",rect:[66,62,24,8],background:$}]},dialogTitleLabelColor:j.labelSelectColor,dialogTitleLabelFont:(d?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:j.labelFont,dialogTitleBackground:V.titleBackground,dialogHeaderBackground:V.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var f=function(L){var g=this;g.$1d=L,g.addListeners()};j.def(f,h,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(Y){var o=this,n=o.$1d,h=n.$6d,e=n._config,z=n.$7d,$=Y,H=Y.target;if(z.contains(H)||j.preventDefault(Y),j.isLeftButton(Y)){d&&($=Z(Y));var w=o.$8d={x:$.pageX,y:$.pageY};o.$9d={x:w.x,y:w.y},!e.maximized&&e.draggable&&h.contains(H)&&(o.$4d=!0,j.startDragging(o,Y)),o.handle_mousemove(Y)&&(o.$2d=!0,j.startDragging(o,Y)),z.contains(Y.target)||n.$41d.focus()}},handle_mousedown:function(X){this.handle_touchstart(X)},handle_touchend:function(k){if(j.isLeftButton(k)&&!this.$5d&&!this.$3d){var r=this,n=r.$1d,a=k.target,G=n._config,Y=n.$18d,e=n.$16d;for(G.closable&&Y.contains(a)&&n.hide(),G.maximizable&&e.contains(a)&&(G.maximized?n.restore():n.maximize());a&&(a.className||"").indexOf("dialog-button")<0;)a=a.parentNode;a&&a.buttonItem&&n.action&&n.action(a.buttonItem,k),delete r.$8d,delete r.$9d}},handle_mouseup:function(y){this.handle_touchend(y)},handleWindowTouchEnd:function(o){var b=this,Y=b.$1d,G=Y.$10d;b.$2d&&b.$3d?G.fire({kind:"endResize",target:Y,originEvent:o}):b.$4d&&b.$5d&&G.fire({kind:"endMove",target:Y,originEvent:o}),this.clear()},handleWindowMouseUp:function(F){this.handleWindowTouchEnd(F)},handle_mousemove:function(t){var x=this.$1d._config;if(x.maximized)return!1;if("w"!==x.resizeMode&&"h"!==x.resizeMode&&"wh"!==x.resizeMode)return!1;var g=this,V=g.getView(),T=V.querySelector(".resize-area"),$=T.getBoundingClientRect(),f={x:$.left,y:$.top,width:$.width,height:$.height};t=d?Z(t):t;var C=t.clientX,R=t.clientY,X={x:C,y:R};return j.containsPoint(f,X)?(i(V,"cursor","nwse-resize"),!0):(i(V,"cursor",u),void 0)},handleWindowTouchMove:function(A){A.preventDefault();var o=A;d&&(o=Z(A));var s=this,h=s.$8d,R=s.$9d;if(!(R.x==h.x&&R.y==h.y&&j.getDistance(R,{x:o.pageX,y:o.pageY})<=1)){var x=s.$1d,I=x._config,u=x.$21d,l=I.resizeMode||"wh",e=o.pageX-h.x,T=o.pageY-h.y;if(s.$2d){var y=u.offsetWidth,a=u.offsetHeight,U=y+e,w=a+T;if(U=Math.max(U,50),w=Math.max(w,50),"center"===I.position||I.position==v){var E={},K=u.getBoundingClientRect();E.x=K.left,E.y=K.top,I.position=E}"w"===l?(x.setSize(U,a),h.x+=U-y):"h"===l?(x.setSize(y,w),h.y+=w-a):"wh"===l&&(x.setSize(U,w),h.x+=U-y,h.y+=w-a),s.$3d?x.$10d.fire({kind:"betweenResize",target:x,originEvent:A}):(s.$3d=!0,x.$10d.fire({kind:"beginResize",target:x,originEvent:A}))}else if(s.$4d){var Q=u.getBoundingClientRect(),F=Q.width,S=Q.height,$=g(),m=P(),f=O(u.style.left)||0,L=O(u.style.top)||0,q=f+e,H=L+T,z=x.adjustPosition({x:q,y:H},{width:F,height:S},{width:$,height:m});z&&(q=z.x,H=z.y);var t=q-f,n=H-L;i(u,M,q+b),i(u,c,H+b),h.x+=t,h.y+=n,I.position={x:q,y:H},s.$5d?x.$10d.fire({kind:"betweenMove",target:x,originEvent:A}):(s.$5d=!0,x.$10d.fire({kind:"beginMove",target:x,originEvent:A}))}}},handleWindowMouseMove:function(l){this.handleWindowTouchMove(l)},handleWindowResize:function(){var X=this,C=X,k=C._config,R=C.$21d,A=g(),x=P(),u=k.width,T=k.height,s=k.position||"center";k.maximized?(i(R,N,A+b),i(R,D,x+b),i(R,c,F),i(R,M,F)):(i(R,N,u+b),i(R,D,T+b),"center"===s?(i(R,M,(A-u)/2+b),i(R,c,(x-T)/2+b)):(i(R,M,s.x+b),i(R,c,s.y+b))),C.iv()},handle_mousewheel:function(v){v.stopPropagation()},handle_DOMMouseScroll:function(U){U.stopPropagation()}}),n.widget.Dialog=function(O){var x=this,y=x._view=T.createView(null,x);y[m]="ht-widget-dialog",i(y,w,k),j.baseZIndex!=v&&i(y,"z-index",j.baseZIndex+"");var M=x.$11d=new f(x);x.bindingHandleWindowResize=M.handleWindowResize.bind(x),x.$10d=new n.Notifier,O&&x.setConfig(O)},o("Dialog",h,{ms_v:1,ms_fire:1,setTitle:function(U){this._config.title=U,this.getView().querySelector(".dialog-container-title span").innerHTML=U},clearNodes:function(G){if(G)for(;G.firstChild;)G.removeChild(G.firstChild)},$31d:function(){var c=this,Y=c.$6d=L(),w=c._config,G=c.$12d=c.$13d();Y[m]="dialog-container-title",i(Y,"cursor","default"),i(Y,"white-space","nowrap"),i(Y,"overflow","hidden"),i(Y,"font",j.dialogTitleLabelFont),i(Y,s,w.titleBackground||j.dialogTitleBackground),i(Y,"color",w.titleColor||j.dialogTitleLabelColor);var E=H("span"),x=c.$25d();if(w.titleAlign&&i(Y,"text-align",w.titleAlign),w.titleIcon){var d=c.$14d=c.$15d();z(Y,d)}if(w.title&&w.title.trim&&(w.title=w.title.trim()),E[y]=w.title||"&nbsp;",z(Y,E),w.maximizable){var t=c.$16d=c.$17d();z(G,t)}if(w.closable){var k=c.$18d=c.$19d();z(G,k)}return z(Y,G),i(Y,"display","block"),i(Y,"line-height",x+b),Y},$13d:function(){var e=L();return i(e,w,k),i(e,M,F),i(e,C,5+b),i(e,c,F),i(e,S,F),i(e,"text-align",C),i(e,"white-space","nowrap"),e[m]="dialog-title-controls",e},$20d:function(){var X=this.$21d=L(),Q=this._config,B=Q.borderWidth;return i(X,w,"fixed"),i(X,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),i(X,"padding",F+" "+B+b+" "+B+b+" "+B+b),i(X,"box-sizing","border-box"),i(X,"-moz-box-sizing","border-box"),X[m]="dialog-container",i(X,s,Q.titleBackground||j.dialogTitleBackground),X},$22d:function(){var x,O=this,_=O._config,r=O.$7d=L(),d=_.content,u=0,l=_.contentPadding||0;_.buttons!=v&&_.buttons.length>0&&(u=32),p(d)?r[y]=d:d.getView?(x=d.getView(),z(r,x)):(x=d,z(r,x)),i(r,w,k),i(r,"font",j.dialogContentLabelFont),n.Default.appendToScreen(r);var K=r.offsetWidth+1,g=r.offsetHeight,t=O.$25d();return _.width==v&&(_.width=K+10+2*l),_.height==v&&(_.height=g+t+u+5+2*l),n.Default.removeHTML(r),x&&(i(x,"box-sizing","border-box"),i(x,"-moz-box-sizing","border-box"),i(x,N,"100%"),i(x,D,"100%")),r[m]="dialog-content",i(r,c,t+l+b),i(r,S,u+l+b),i(r,M,l+b),i(r,C,l+b),i(r,"overflow","hidden"),r},getOverlayDiv:function(){return this.$41d},$23d:function(){var C=this.$41d=L();return C[m]="dialog-overlay",i(C,N,"100%"),i(C,D,"100%"),i(C,w,"fixed"),i(C,c,F),i(C,M,F),i(C,s,"rgba(235, 235, 235, 0.7)"),C},_config:v,setSize:function(p,B){var T=this,Q=T._config;Q&&(Q.width=p,Q.height=B,T.isShowing()&&(T.bindingHandleWindowResize(),T.iv()))},getConfig:function(){return this._config},$24d:function(){var x=this._config,k=x.titleIconSize||16;return d&&(k*=1.2),k},$25d:function(){var O=this._config,h=O.titleHeight||j.widgetTitleHeight;return h},$26d:function(j){i(j,"cursor","pointer"),i(j,"display","inline-block"),i(j,"margin-right",(d?8:4)+b),i(j,"vertical-align",c)},$27d:function(){var T=this.$30d=L(),E=10;return d&&(E=20),i(T,N,E+b),i(T,D,E+b),i(T,w,k),i(T,S,F),i(T,C,F),T[m]="resize-area",T},$15d:function(){var s=this,U=J();U[m]="dialog-title-control dialog-title-control-icon";var L=s.$25d(),B=s.$24d();return s.$26d(U),T.setCanvas(U,B,L),U},$17d:function(){var S=J();S[m]="dialog-title-control dialog-title-control-maximize";var Z=this.$25d(),j=this.$24d();return this.$26d(S),T.setCanvas(S,j,Z),S},$19d:function(){var F=J();F[m]="dialog-title-control dialog-title-control-close";var f=this.$25d(),X=this.$24d();return this.$26d(F),T.setCanvas(F,X,f),F},$28d:function(){var q=L();return i(q,s,j.dialogContentBackground||"white"),i(q,N,"100%"),i(q,D,"100%"),i(q,w,"relative"),q},$29d:function(){var c=this,y=L();i(y,"line-height",32+b),i(y,w,k),i(y,S,F),i(y,M,F),i(y,"white-space","nowrap"),i(y,"overflow","hidden"),i(y,C,F),i(y,s,j.dialogHeaderBackground),y[m]="dialog-container-buttons";var X=this._config,J=X.buttonsAlign||C,V=0;return i(y,"text-align",J),c.$42d=[],X.buttons.forEach(function(U){var r=new n.widget.Button,F=r.getView();F[m]="dialog-button "+U.className,F.buttonItem=U,c.$42d.push(r),r.setBorderColor(v),r.setBackground(j.dialogButtonBackground),r.setSelectBackground(j.dialogButtonSelectBackground),r.setLabelColor(j.dialogButtonLabelColor),i(F,w,"relative"),i(F,"display","inline-block"),i(F,"text-align",M),i(F,"height",24+b);var E=d?10:5;J===M||J===C?i(F,"margin-"+J,E+b):0===V||i(F,"margin-"+M,E+b),i(F,"vertical-align","middle");var D=j.getTextSize(r.getLabelFont(),U.label).width+10;r.onClicked=function(m){U.action&&U.action.call(c,U,m)},r.setLabel(U.label),r.setDisabled(U.disabled),i(F,N,D+b),z(y,r.getView()),V++}),y},setConfig:function(W){if(W){var i=this,O=i._view;i._config=W,i.action=W.action,i.clearNodes(O),W.borderWidth==v&&(W.borderWidth=5);var m=i.$23d(),Y=i.$28d(),G=i.$31d(),P=i.$22d(),d=i.$20d(),M=i.$30d=i.$27d();if(z(O,m),z(O,d),z(d,Y),z(Y,G),z(Y,P),W.buttons!=v&&W.buttons.length>0){var E=i.$29d();z(Y,E)}z(d,M),W.maximized?(W.maximized=!1,i.bindingHandleWindowResize(),i.maximize(!0)):i.bindingHandleWindowResize(),i.isShowing()&&i.iv()}},hide:function(){var L=this,a=L.$21d,y=L.$41d,P=L._view;P[m]="ht-widget-dialog",Y(a).duration(200).scale(.7).set(G,F).end(function(){L.onHidden&&L.onHidden(),n.Default.removeHTML(P),L.$10d.fire({kind:"hide",target:L})}),Y(y).duration(200).set(G,F).end(),W(A,"resize",L.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(z){this.$41d.style.display=z?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var C=this,N=C._config,n=C.$21d;B(n,u),C.iv(),N.maximized?C.$10d.fire({kind:"maximize",target:C}):C.$10d.fire({kind:"restore",target:C})},maximize:function(d){var K=this,x=K.$21d,G=K._config;if(!G.maximized){G.maximized=!0,K.$33d(),K.$16d[m]="dialog-title-control dialog-title-control-minimize";var s=g(),h=P(),C=G.width,I=G.height,A=O(x.style.left)||0,w=O(x.style.top)||0;K.$36d=C,K.$37d=I,K.$34d=A,K.$35d=w;var S=d?0:200;Y(x).duration(S).set(M,F).set(c,F).set(N,s+b).set(D,h+b).end(function(){K.$32d()})}},restore:function(){var h=this,t=h.$34d,U=h.$35d,F=h.$36d,y=h.$37d,i=h._config;if(i.maximized&&(i.maximized=!1,h.$33d(),h.$16d[m]="dialog-title-control dialog-title-control-maximize",h.isShowing()&&t!=v&&U!=v&&F!=v&&y!=v)){var o=h.$21d;Y(o).duration(200).set(M,t+b).set(c,U+b).set(N,F+b).set(D,y+b).end(function(){h.$32d()})}delete h.$34d,delete h.$35d,delete h.$36d,delete h.$37d},show:function(){var I=this,O=I._view,Z=I._config,L=I.$21d,W=I.$41d;Z&&Z.zIndex!=v&&i(O,"z-index",Z.zIndex+u),n.Default.appendToScreen(O),B(L,"scale(0.7)"),i(L,G,F),I.iv(),I.validate(),I._view[m]+=" dialog-show",R(function(){Y(L).duration(200).scale(1).set(G,"1").end(function(){i(L,N,L.clientWidth+b),i(L,D,L.clientHeight+b),I.onShown&&I.onShown(),I.$10d.fire({kind:"show",target:I});var R=Z&&Z.content;R&&R.iv&&R.iv()}),Y(W).duration(200).set(G,"1").end(),K(A,"resize",I.bindingHandleWindowResize)},30)},setPosition:function(u){var C=this.$21d;C.style.left=u.x+"px",C.style.top=u.y+"px"},addEventListener:function(r,T,e){this.$10d.add(r,T,e)},removeEventListener:function(r,W){this.$10d.remove(r,W)},$38d:function(X,G,u,c){var e=T.initContext(X);T.translateAndScale(e,0,0,1),e.clearRect(0,0,u,u);var b=(u-c)/2;j.drawStretchImage(e,j.getImage(G),"fill",0,b,c,c),e.restore()},$33d:function(){var f=this,O=f._config,Q=f.$16d,K=O.maximized?j.dialogRestoreIcon:j.dialogMaximizeIcon;if(Q&&K){var h=f.$25d(),w=f.$24d();f.$38d(Q,j.getImage(K),h,w)}},$39d:function(){var p=this,y=p._config,g=p.$14d,H=y.titleIcon;if(g&&H){var e=p.$25d(),G=p.$24d();p.$38d(g,j.getImage(H),e,G)}},$40d:function(){var f=this,$=f.$18d,y=j.dialogCloseIcon;if($&&y){var o=f.$25d(),p=f.$24d();f.$38d($,j.getImage(y),o,p)}},invalidate:function(h){var S=this,f=S.$42d;S._68I||(S._68I=1,j.callLater(S.validate,S,v,h),S.onInvalidated&&S.onInvalidated(),S.fireViewEvent("invalidate"));var X=S._config.content;X.invalidate&&X.invalidate(),f&&f.forEach(function(w){w.iv()})},validateImpl:function(){var k=this;k.$40d(),k.$33d(),k.$39d();var B=k._config.content;B.initView&&(B.setX(0),B.setY(0),B.setWidth(k.$7d.clientWidth),B.setHeight(k.$7d.clientHeight))},adjustPosition:function(T,m,e){var u=m.width,U=m.height,X=e.width,c=e.height,i=T.x,G=T.y,Y=this._config,P=Y.minDragSize||20;return"inside"===Y.dragMode?(i+u>X&&(i=X-u),G+U>c&&(G=c-U),0>i&&(i=0),0>G&&(G=0)):(null==Y.dragMode||"none"===Y.dragMode)&&(-u+P>i&&(i=-u+P),i>X-P&&(i=X-P),G>c-P&&(G=c-P),0>G&&(G=0)),{x:i,y:G}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);