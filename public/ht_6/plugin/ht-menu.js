!function(i,H){"use strict";var A="ht",F=i[A],c="innerHTML",N="className",k=null,C="px",X=F.Default,a=X.getInternal(),g="0",o=function(){return document},d=function(R){return o().createElement(R)},m=function(){return d("canvas")},U=function(T,o,E){T.style.setProperty(o,E,k)},D=function(y,s,p){X.def(F.widget[y],s,p)},Y=function(Z,o){Z.appendChild(o)},O=function(m,u){m.removeChild(u)},h=function(T,n,B,c){T.addEventListener(n,B,!!c)},l=function(J,t,R,P){J.removeEventListener(t,R,!!P)},P=X.isTouchable;a.addMethod(X,{menuLabelFont:(P?"16":"13")+"px arial, sans-serif",menuLabelColor:"#000",menuBackground:"#F0EFEE",menuHoverBackground:"#648BFE",menuHoverLabelColor:"#fff",menuSeparatorWidth:1,menuSeparatorColor:"#999"},!0),F.widget.Menu=function(C){var z=this,b=z._view=a.createView(null,z),q=z.$1g=new F.widget.ContextMenu,K=d("ul");q._r=!0,q._view[N]+=" ht-widget-dropdownmenu",b[N]="ht-widget-menu",K[N]="header",U(b,"margin",g),U(b,"padding",g),U(b,"background",X.menuBackground),U(b,"-webkit-user-select","none"),U(b,"-moz-user-select","none"),U(b,"user-select","none"),U(b,"text-align","left"),U(b,"border-bottom",X.menuSeparatorWidth+"px solid "+X.menuSeparatorColor),U(b,"cursor","default"),U(b,"overflow","auto"),U(b,"white-space","nowrap"),U(b,"font",X.menuLabelFont),U(b,"color",X.menuLabelColor),U(b,"box-sizing","border-box"),U(b,"-moz-box-sizing","border-box"),U(K,"list-style","none"),U(K,"margin",g),U(K,"padding",g),U(K,"display","inline-block"),Y(b,K),z.setItems(C),z.$2g=function(h){z.$3g(h)},z.$4g=function(E){z.$5g(E)},z.$6g=function(A){z.$7g(A)},z.$8g=function(U){z.$9g(U)},z.$9b=function($){z.$10g($)},z._autoShow=!0,z.setAutoShow(!1),q.afterHide=function(){z.$11g()},q.afterShow=function(){z.$12g()},l(o(),"keydown",q.$3b),z.$3b=function(i){z.$13g(i)},z.invalidate()},D("Menu",H,{_items:k,$14g:X.menuHoverBackground,$15g:X.menuHoverLabelColor,$16g:{},_enableGlobalKey:!1,ms_v:1,$21g:"smallicons",$22g:0,$23g:0,$24g:"left",getDropDownMenu:function(){return this.$1g},setLayout:function(z){var P=this;if(P.$21g=z,P.setItems(P._items),"largeicons"===z){for(var Q=P._view.querySelectorAll(".header-item"),f=0,Y=0;Y<Q.length;Y++){var y=Q[Y];f=Math.max(f,y.clientWidth)}for(var Y=0;Y<Q.length;Y++){var y=Q[Y];U(y,"min-width",f+C)}}this.invalidate()},getLayout:function(){return this.$21g},setHeaderItemHGap:function(B){this.$22g=B;for(var w=this._view.querySelectorAll(".header-item"),F=0;F<w.length;F++){var Q=w[F];U(Q,"margin-left",B+C),U(Q,"margin-right",B+C)}},getHeaderItemHGap:function(){return this.$22g},setHeaderItemVGap:function(W){this.$23g=W;for(var Y=this._view.querySelectorAll(".header-item"),R=0;R<Y.length;R++){var x=Y[R];U(x,"margin-top",W+C),U(x,"margin-bottom",W+C)}},getHeaderItemVGap:function(){return this.$24g},setHeaderItemAlign:function(i){this.$24g=i,U(this._view,"text-align",i)},getHeaderItemAlign:function(){return this.$23g},enableGlobalKey:function(){var i=this,N=i._enableGlobalKey;N===!1&&(h(o(),"keydown",i.$3b),i._enableGlobalKey=!0)},disableGlobalKey:function(){this._enableGlobalKey=!1,l(o(),"keydown",this.$3b)},setHoverBackground:function(T){this.$14g=T},setHoverColor:function(b){this.$15g=b},setItems:function(e){var h=this,F=h._view,E=h.$21g;if(h._items=e,F.children[0][c]="",h.$16g={},e&&e.length){for(var Z=F.children[0],$=0,I=o().createDocumentFragment();$<e.length;$++){var H=e[$],D=d("li"),S=d("span");if(H.icon){var w=m();w[N]="menu-item-icon","smallicons"===E?(U(w,"height","1.2em"),U(w,"width","1.2em"),U(w,"vertical-align","middle")):(U(w,"height","32px"),U(w,"width","32px"),U(w,"display","block"),U(w,"margin","0 auto")),w.$20g=H.icon,Y(D,w)}D[N]="header-item",U(D,"display","inline-block"),U(D,"vertical-align","top"),U(D,"padding","0 1.2em"),U(D,"line-height","1.8em"),"largeicons"===E&&U(D,"text-align","center"),U(D,"background-color","rgba(0,0,0,0)"),D.setAttribute("data-index",$),h.$16g[$]=H.items,S[c]=H.label,"iconsonly"!==E&&Y(D,S),Y(I,D)}Y(Z,I)}},showDropdownMenu:function(r){var O=this,G=O.$16g[r],N=O.$1g,q=O._view.children[0].children[r],m=O.$17g;if(q&&q!==m){m&&O.hideDropdownMenu();var W=q.getBoundingClientRect(),S=X.getWindowInfo();O.$17g=q,N.setItems(G),N.show(W.left+S.left,W.top+W.height+S.top,!1)}},hideDropdownMenu:function(){this.$1g.hide()},getItemByProperty:function(t,q){var S=this,F=S._items;return F&&0!==F.length?S.$1g.getItemByProperty(t,q,F):k},$12g:function(){var j=this,k=j.$17g;k.style.background=j.$14g,k.style.color=j.$15g,j._autoShow||h(o(),P?"touchstart":"mousedown",j.$9b)},$11g:function(){var M=this,v=M.$17g;v&&(v.style.background="",v.style.color="",M.$17g=k),l(o(),P?"touchstart":"mousedown",M.$9b)},$10g:function(A){var d=this,S=d._view,a=d.$1g,s=S.children[0];!o().body.contains(S)||s.contains(A.target)||a._view.contains(A.target)||d.hideDropdownMenu()},$13g:function($){var F=this,y=F.$1g;o().body.contains(F._view)&&y.$13b.$4b.call(y.$13b,$,F._items)},setAutoShow:function(r){var S=this,X=S.$1g,C=S._view;S._autoShow!==r&&(S._autoShow?(l(C,"mouseover",S.$2g),l(C,"mouseout",S.$4g),l(X._view,"mouseout",S.$4g),P||(h(C,"mouseover",S.$8g),h(C,"mouseout",S.$8g)),h(C,P?"touchstart":"mousedown",S.$6g)):(l(C,"mouseover",S.$8g),l(C,"mouseout",S.$8g),l(C,P?"touchstart":"mousedown",S.$6g),l(o(),P?"touchstart":"mousedown",S.$9b),P||(h(C,"mouseover",S.$2g),h(C,"mouseout",S.$4g),h(X._view,"mouseout",S.$4g))),S._autoShow=r)},$3g:function(o){var I=this,v=I._view.children[0],X=o.target;if(v!==X&&v.contains(X)){for(;"header-item"!==X[N];)X=X.parentNode;I.showDropdownMenu(X.getAttribute("data-index"))}},$5g:function(g){var U=this,e=U._view.children[0],z=U.$1g,N=g.target,O=g.relatedTarget;!e.contains(N)&&!z._view.contains(N)||e.contains(O)||z._view.contains(O)||U.hideDropdownMenu()},$7g:function(C){C.preventDefault();var m=this,T=m._view.children[0],n=m.$1g,s=C.target;if(X.isLeftButton(C)&&T!==s&&T.contains(s))if(P){for(;"header-item"!==s[N];)s=s.parentNode;var Q=s.getAttribute("data-index"),n=m.$1g,w=m._view.children[0].children[Q],e=m.$17g;n.isShowing()&&m.hideDropdownMenu(),w!==e&&m.showDropdownMenu(Q)}else if(n.isShowing())m.hideDropdownMenu();else{for(;"header-item"!==s[N];)s=s.parentNode;m.showDropdownMenu(s.getAttribute("data-index"))}},$9g:function(G){var $=this,A=$._view,a=$.$1g,t=G.target;if(A.contains(t)){for(var w=A.querySelectorAll(".header-item"),D=k,r=0;r<w.length;r++){var Q=w[r];Q.style.background="",Q.style.color="","mouseover"===G.type?Q.contains(t)&&(D=Q):"mouseout"===G.type&&a.isShowing()&&$.$17g===Q&&(D=Q)}a.isShowing()&&(D||(D=$.$17g),$.showDropdownMenu(D.getAttribute("data-index"))),D&&(D.style.background=$.$14g,D.style.color=$.$15g)}},getShowingMenuIndex:function(){var A=this.$17g;return A?A.getAttribute("data-index"):-1},addTo:function(u){var p=this,O=p._view;Y(u,O),p.invalidate()},dispose:function(){var V=this,j=V._view,W=V.$1g;j&&(V._autoShow?(l(j,"mouseover",V.$2g),l(j,"mouseout",V.$4g),l(W._view,"mouseout",V.$4g)):(l(j,"mouseover",V.$8g),l(j,"mouseout",V.$8g),l(j,P?"touchstart":"mousedown",V.$6g),l(o(),P?"touchstart":"mousedown",V.$9b)),l(o(),"keydown",V.$3b),W.dispose(),j.parentNode&&O(j.parentNode,j),V._view=V.$1g=V.$16g=V._items=V.$17g=V.$2g=V.$4g=V.$6g=V.$8g=V.$9b=V.$3b=k)},$19g:function(V,Q,G,D){var k=a.initContext(V);a.translateAndScale(k,0,0,1),k.clearRect(0,0,G,D),X.drawStretchImage(k,X.getImage(Q),"fill",0,0,G,D),k.restore()},validateImpl:function(){var V,W,Q,N=this,b=N._view,h=b.querySelectorAll(".menu-item-icon");for(Q=0;Q<h.length;Q++){var T=h[Q];V=T.clientWidth,W=T.clientHeight,V&&W&&(a.setCanvas(T,V,W),N.$19g(T,X.getImage(T.$20g),V,W))}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:this,Object);