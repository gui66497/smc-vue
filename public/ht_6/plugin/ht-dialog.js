!function(u,T){"use strict";var v="ht",h=u[v],p="px",r="left",S="top",y="bottom",A="right",t="innerHTML",B="className",f="",M="width",w="height",b="string",g="position",q="absolute",J="0",U="opacity",j="background",m=h.Default,s=m.getInternal(),$=h.Color,Y=m.animate,D=m.isTouchable,I=null,n=(Math.sqrt,u.parseInt),i=u.setTimeout,N=(Math.round,$.titleIconBackground),E=function(T){return typeof T===b||T instanceof String},V=function(){return document},X=function(Q){return V().createElement(Q)},L=function(){var c=X("div");return c.tabIndex=-1,c.style.outline="none",c},W=function(){return X("canvas")},H=function(s,g){Q(s,"-webkit-transform",g),Q(s,"-ms-transform",g),Q(s,"transform",g)},Q=function(M,k,G){M.style.setProperty(k,G,I)},Z=function(H,B,R){m.def(h.widget[H],B,R)},O=function(q,$){q.appendChild($)},e=function(W,y){W.removeChild(y)},k=function(){return V().body},d=function(){return V().documentElement},F=function(){return d().clientWidth},R=function(){return d().clientHeight},x=function(r,s,c,W){r.addEventListener(s,c,!!W)},o=function(V){var s=V.touches[0];return s?s:V.changedTouches[0]};s.addMethod(m,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:N},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:N}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:N},{type:"rect",rect:[10,10,80,20],background:N}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:N},{type:"rect",rect:[10,34,56,14],background:N},{type:"rect",rect:[34,10,56,14],background:N},{type:"rect",rect:[82,10,8,56],background:N},{type:"rect",rect:[66,62,24,8],background:N}]},dialogTitleLabelColor:m.labelSelectColor,dialogTitleLabelFont:(D?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:m.labelFont,dialogTitleBackground:$.titleBackground,dialogHeaderBackground:$.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var P=function(m){var S=this;S.$1d=m,S.addListeners()};m.def(P,T,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(M){var r=this,p=r.$1d,N=p.$6d,z=p._config,I=p.$7d,x=M,b=M.target;if(I.contains(b)||m.preventDefault(M),m.isLeftButton(M)){D&&(x=o(M));var A=r.$8d={x:x.pageX,y:x.pageY};r.$9d={x:A.x,y:A.y},!z.maximized&&z.draggable&&N.contains(b)&&(r.$4d=!0,m.startDragging(r,M)),r.handle_mousemove(M)&&(r.$2d=!0,m.startDragging(r,M)),I.contains(M.target)||p.$41d.focus()}},handle_mousedown:function(B){this.handle_touchstart(B)},handle_touchend:function(d){if(m.isLeftButton(d)&&!this.$5d&&!this.$3d){var V=this,j=V.$1d,T=d.target,q=j._config,b=j.$18d,e=j.$16d;for(q.closable&&b.contains(T)&&j.hide(),q.maximizable&&e.contains(T)&&(q.maximized?j.restore():j.maximize());T&&(T.className||"").indexOf("dialog-button")<0;)T=T.parentNode;T&&T.buttonItem&&j.action&&j.action(T.buttonItem,d),delete V.$8d,delete V.$9d}},handle_mouseup:function(h){this.handle_touchend(h)},handleWindowTouchEnd:function(Y){var N=this,x=N.$1d,e=x.$10d;N.$2d&&N.$3d?e.fire({kind:"endResize",target:x,originEvent:Y}):N.$4d&&N.$5d&&e.fire({kind:"endMove",target:x,originEvent:Y}),this.clear()},handleWindowMouseUp:function(m){this.handleWindowTouchEnd(m)},handle_mousemove:function(g){var M=this.$1d._config;if(M.maximized)return!1;if("w"!==M.resizeMode&&"h"!==M.resizeMode&&"wh"!==M.resizeMode)return!1;var r=this,$=r.getView(),d=$.querySelector(".resize-area"),B=d.getBoundingClientRect(),q={x:B.left,y:B.top,width:B.width,height:B.height};g=D?o(g):g;var P=g.clientX,b=g.clientY,k={x:P,y:b};return m.containsPoint(q,k)?(Q($,"cursor","nwse-resize"),!0):(Q($,"cursor",f),void 0)},handleWindowTouchMove:function(A){A.preventDefault();var b=A;D&&(b=o(A));var Z=this,g=Z.$8d,x=Z.$9d;if(!(x.x==g.x&&x.y==g.y&&m.getDistance(x,{x:b.pageX,y:b.pageY})<=1)){var T=Z.$1d,B=T._config,E=T.$21d,f=B.resizeMode||"wh",M=b.pageX-g.x,L=b.pageY-g.y;if(Z.$2d){var e=E.offsetWidth,w=E.offsetHeight,c=e+M,W=w+L;if(c=Math.max(c,50),W=Math.max(W,50),"center"===B.position||B.position==I){var C={},z=E.getBoundingClientRect();C.x=z.left,C.y=z.top,B.position=C}"w"===f?(T.setSize(c,w),g.x+=c-e):"h"===f?(T.setSize(e,W),g.y+=W-w):"wh"===f&&(T.setSize(c,W),g.x+=c-e,g.y+=W-w),Z.$3d?T.$10d.fire({kind:"betweenResize",target:T,originEvent:A}):(Z.$3d=!0,T.$10d.fire({kind:"beginResize",target:T,originEvent:A}))}else if(Z.$4d){var H=E.getBoundingClientRect(),u=H.width,J=H.height,Y=F(),G=R(),K=n(E.style.left)||0,$=n(E.style.top)||0,d=K+M,_=$+L;d+u>Y&&(d=Y-u),_+J>G&&(_=G-J),0>d&&(d=0),0>_&&(_=0);var N=d-K,s=_-$;Q(E,r,d+p),Q(E,S,_+p),g.x+=N,g.y+=s,B.position={x:d,y:_},Z.$5d?T.$10d.fire({kind:"betweenMove",target:T,originEvent:A}):(Z.$5d=!0,T.$10d.fire({kind:"beginMove",target:T,originEvent:A}))}}},handleWindowMouseMove:function(n){this.handleWindowTouchMove(n)},handleWindowResize:function(){var t=this,$=t,Y=$._config,G=$.$21d,H=F(),l=R(),O=Y.width,n=Y.height,T=Y.position||"center";Y.maximized?(Q(G,M,H+p),Q(G,w,l+p),Q(G,S,J),Q(G,r,J)):(Q(G,M,O+p),Q(G,w,n+p),"center"===T?(Q(G,r,(H-O)/2+p),Q(G,S,(l-n)/2+p)):(Q(G,r,T.x+p),Q(G,S,T.y+p))),$.iv()},handle_mousewheel:function(N){N.stopPropagation()},handle_DOMMouseScroll:function(U){U.stopPropagation()}}),h.widget.Dialog=function(_){var n=this,d=n._view=s.createView(null,n);d[B]="ht-widget-dialog",Q(d,g,q),m.baseZIndex!=I&&Q(d,"z-index",m.baseZIndex+"");var D=n.$11d=new P(n);n.bindingHandleWindowResize=D.handleWindowResize.bind(n),n.$10d=new h.Notifier,_&&n.setConfig(_)},Z("Dialog",T,{ms_v:1,setTitle:function(q){this._config.title=q,this.getView().querySelector(".dialog-container-title span").innerHTML=q},$31d:function(){var W=this,i=W.$6d=L(),F=W._config,T=W.$12d=W.$13d();i[B]="dialog-container-title",Q(i,"cursor","default"),Q(i,"white-space","nowrap"),Q(i,"overflow","hidden"),Q(i,"font",m.dialogTitleLabelFont),Q(i,j,F.titleBackground||m.dialogTitleBackground),Q(i,"color",F.titleColor||m.dialogTitleLabelColor);var P=X("span"),G=W.$25d();if(F.titleAlign&&Q(i,"text-align",F.titleAlign),F.titleIcon){var H=W.$14d=W.$15d();O(i,H)}if(P[t]=F.title||"&nbsp;",O(i,P),F.maximizable){var C=W.$16d=W.$17d();O(T,C)}if(F.closable){var z=W.$18d=W.$19d();O(T,z)}return O(i,T),Q(i,"display","block"),Q(i,"line-height",G+p),i},$13d:function(){var $=L();return Q($,g,q),Q($,r,J),Q($,A,5+p),Q($,S,J),Q($,y,J),Q($,"text-align",A),Q($,"white-space","nowrap"),$[B]="dialog-title-controls",$},$20d:function(){var C=this.$21d=L(),I=this._config,N=I.borderWidth;return Q(C,g,"fixed"),Q(C,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),Q(C,"padding",J+" "+N+p+" "+N+p+" "+N+p),Q(C,"box-sizing","border-box"),Q(C,"-moz-box-sizing","border-box"),C[B]="dialog-container",Q(C,j,I.titleBackground||m.dialogTitleBackground),C},$22d:function(){var R,D=this,U=D._config,T=D.$7d=L(),Z=U.content,j=0,i=U.contentPadding||0;U.buttons!=I&&U.buttons.length>0&&(j=32),E(Z)?T[t]=Z:Z.getView?(R=Z.getView(),O(T,R)):(R=Z,O(T,R)),Q(T,g,q),Q(T,"font",m.dialogContentLabelFont),O(k(),T);var $=T.offsetWidth+1,d=T.offsetHeight,V=D.$25d();return U.width==I&&(U.width=$+10+2*i),U.height==I&&(U.height=d+V+j+5+2*i),e(k(),T),R&&(Q(R,"box-sizing","border-box"),Q(R,"-moz-box-sizing","border-box"),Q(R,M,"100%"),Q(R,w,"100%")),T[B]="dialog-content",Q(T,S,V+i+p),Q(T,y,j+i+p),Q(T,r,i+p),Q(T,A,i+p),Q(T,"overflow","hidden"),T},$23d:function(){var V=this.$41d=L();return V[B]="dialog-overlay",Q(V,M,"100%"),Q(V,w,"100%"),Q(V,g,"fixed"),Q(V,S,J),Q(V,r,J),Q(V,j,"rgba(235, 235, 235, 0.7)"),V},_config:I,setSize:function(b,o){var u=this,L=u._config;L&&(L.width=b,L.height=o,u.isShowing()&&(u.bindingHandleWindowResize(),u.iv()))},getConfig:function(){return this._config},$24d:function(){var M=this._config,V=M.titleIconSize||16;return D&&(V*=1.2),V},$25d:function(){var G=this._config,W=G.titleHeight||m.widgetTitleHeight;return W},$26d:function(a){Q(a,"cursor","pointer"),Q(a,"display","inline-block"),Q(a,"margin-right",(D?8:4)+p),Q(a,"vertical-align",S)},$27d:function(){var c=this.$30d=L(),m=10;return D&&(m=20),Q(c,M,m+p),Q(c,w,m+p),Q(c,g,q),Q(c,y,J),Q(c,A,J),c[B]="resize-area",c},$15d:function(){var a=this,n=W();n[B]="dialog-title-control dialog-title-control-icon";var R=a.$25d(),I=a.$24d();return a.$26d(n),s.setCanvas(n,I,R),n},$17d:function(){var l=W();l[B]="dialog-title-control dialog-title-control-maximize";var V=this.$25d(),A=this.$24d();return this.$26d(l),s.setCanvas(l,A,V),l},$19d:function(){var _=W();_[B]="dialog-title-control dialog-title-control-close";var A=this.$25d(),D=this.$24d();return this.$26d(_),s.setCanvas(_,D,A),_},$28d:function(){var D=L();return Q(D,j,"white"),Q(D,M,"100%"),Q(D,w,"100%"),Q(D,g,"relative"),D},$29d:function(){var U=this,s=L();Q(s,"line-height",32+p),Q(s,g,q),Q(s,y,J),Q(s,r,J),Q(s,"white-space","nowrap"),Q(s,"overflow","hidden"),Q(s,A,J),Q(s,j,m.dialogHeaderBackground),s[B]="dialog-container-buttons";var C=this._config,G=C.buttonsAlign||A,b=0;return Q(s,"text-align",G),U.$42d=[],C.buttons.forEach(function(j){var i=new h.widget.Button,H=i.getView();H[B]="dialog-button "+j.className,H.buttonItem=j,U.$42d.push(i),i.setBorderColor(I),i.setBackground(m.dialogButtonBackground),i.setSelectBackground(m.dialogButtonSelectBackground),i.setLabelColor(m.dialogButtonLabelColor),Q(H,g,"static"),Q(H,"display","inline-block"),Q(H,"text-align",r),Q(H,"height",24+p);var d=D?10:5;G===r||G===A?Q(H,"margin-"+G,d+p):0===b||Q(H,"margin-"+r,d+p),Q(H,"vertical-align","middle");var L=m.getTextSize(i.getLabelFont(),j.label).width+10;i.onClicked=function(D){j.action&&j.action.call(U,j,D)},i.setLabel(j.label),Q(H,M,L+p),O(s,i.getView()),b++}),s},setConfig:function(V){if(V){var j=this,K=j._view;j._config=V,j.action=V.action,K[t]=f,V.borderWidth==I&&(V.borderWidth=5);var e=j.$23d(),c=j.$28d(),b=j.$31d(),$=j.$22d(),R=j.$20d(),F=j.$30d=j.$27d();if(O(K,e),O(K,R),O(R,c),O(c,b),O(c,$),V.buttons!=I&&V.buttons.length>0){var E=j.$29d();O(c,E)}O(R,F),V.maximized?(V.maximized=!1,j.bindingHandleWindowResize(),j.maximize(!0)):j.bindingHandleWindowResize(),j.isShowing()&&j.iv()}},hide:function(){var X=this,D=X.$21d,x=X.$41d,R=X._view;R[B]="ht-widget-dialog",Y(D).duration(200).scale(.7).set(U,J).end(function(){X.onHidden&&X.onHidden(),e(k(),R),X.$10d.fire({kind:"hide",target:X})}),Y(x).duration(200).set(U,J).end(),u.removeEventListener("resize",X.bindingHandleWindowResize)},isShowing:function(){return k().contains(this._view)},setModal:function(p){this.$41d.style.display=p?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var M=this,d=M._config,x=M.$21d;H(x,f),M.iv(),d.maximized?M.$10d.fire({kind:"maximize",target:M}):M.$10d.fire({kind:"restore",target:M})},maximize:function(m){var P=this,q=P.$21d,i=P._config;if(!i.maximized){i.maximized=!0,P.$33d(),P.$16d[B]="dialog-title-control dialog-title-control-minimize";var y=F(),A=R(),o=i.width,T=i.height,t=n(q.style.left)||0,b=n(q.style.top)||0;P.$36d=o,P.$37d=T,P.$34d=t,P.$35d=b;var G=m?0:200;Y(q).duration(G).set(r,J).set(S,J).set(M,y+p).set(w,A+p).end(function(){P.$32d()})}},restore:function(){var O=this,v=O.$34d,G=O.$35d,J=O.$36d,q=O.$37d,Z=O._config;if(Z.maximized&&(Z.maximized=!1,O.$33d(),O.$16d[B]="dialog-title-control dialog-title-control-maximize",O.isShowing()&&v!=I&&G!=I&&J!=I&&q!=I)){var U=O.$21d;Y(U).duration(200).set(r,v+p).set(S,G+p).set(M,J+p).set(w,q+p).end(function(){O.$32d()})}delete O.$34d,delete O.$35d,delete O.$36d,delete O.$37d},show:function(){var S=this,o=S._view,C=S._config,q=S.$21d,j=S.$41d;C&&C.zIndex!=I&&Q(o,"z-index",C.zIndex+f),O(k(),o),H(q,"scale(0.7)"),Q(q,U,J),S.iv(),S.validate(),S._view[B]+=" dialog-show",i(function(){Y(q).duration(200).scale(1).set(U,"1").end(function(){Q(q,M,q.clientWidth+p),Q(q,w,q.clientHeight+p),S.onShown&&S.onShown(),S.$10d.fire({kind:"show",target:S})}),Y(j).duration(200).set(U,"1").end(),x(u,"resize",S.bindingHandleWindowResize)},30)},setPosition:function(t){var Z=this.$21d;Z.style.left=t.x+"px",Z.style.top=t.y+"px"},addEventListener:function(K,q,n){this.$10d.add(K,q,n)},removeEventListener:function(z,s){this.$10d.remove(z,s)},$38d:function(q,V,G,D){var A=s.initContext(q);s.translateAndScale(A,0,0,1),A.clearRect(0,0,G,G);var K=(G-D)/2;m.drawStretchImage(A,m.getImage(V),"fill",0,K,D,D),A.restore()},$33d:function(){var H=this,s=H._config,r=H.$16d,v=s.maximized?m.dialogRestoreIcon:m.dialogMaximizeIcon;if(r&&v){var J=H.$25d(),Y=H.$24d();H.$38d(r,m.getImage(v),J,Y)}},$39d:function(){var M=this,E=M._config,t=M.$14d,A=E.titleIcon;if(t&&A){var G=M.$25d(),u=M.$24d();M.$38d(t,m.getImage(A),G,u)}},$40d:function(){var R=this,C=R.$18d,A=m.dialogCloseIcon;if(C&&A){var M=R.$25d(),f=R.$24d();R.$38d(C,m.getImage(A),M,f)}},invalidate:function(x){var G=this,J=G.$42d;G._68I||(G._68I=1,m.callLater(G.validate,G,I,x),G.onInvalidated&&G.onInvalidated(),G.fireViewEvent("invalidate"));var $=G._config.content;$.invalidate&&$.invalidate(),J&&J.forEach(function(o){o.iv()})},validateImpl:function(){var N=this;N.$40d(),N.$33d(),N.$39d()}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:this,Object);